<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>若风</title>
  
  
  <link href="https://loafing.cn/atom.xml" rel="self"/>
  
  <link href="https://loafing.cn/"/>
  <updated>2021-05-15T04:24:54.000Z</updated>
  <id>https://loafing.cn/</id>
  
  <author>
    <name>青菜芋子</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>「记录」Vercel挂了</title>
    <link href="https://loafing.cn/posts/Vercel-Errors-Accessing-From-China.html"/>
    <id>https://loafing.cn/posts/Vercel-Errors-Accessing-From-China.html</id>
    <published>2021-05-15T04:24:54.000Z</published>
    <updated>2021-05-15T04:24:54.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>一觉醒来，部署在 Vercel 的网站打不开了，curl 网址显示 443 拒绝访问。</p><p>vercel.app 这类域名还能继续访问。</p><p>免费的良心服务总是被滥用😕</p><span id="more"></span><p>好在 Vercel 反应很快，应对及时。</p><p><a href="https://www.vercel-status.com/incidents/r758bhbklgfd">Errors Accessing From China</a></p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/05/1621052982256.webp" alt="1621052982256" /></p><p>直接修改 A 解析和 CNAME 解析均提示默认值不可修改 🙅</p><p>那就去域名注册商那里看看。</p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/05/1621053368582.webp" alt="1621053368582" /></p><p>改完等 10 分钟，自定义域名总算能打开网页了。（就是速度感人）</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;一觉醒来，部署在 Vercel 的网站打不开了，curl 网址显示 443 拒绝访问。&lt;/p&gt;
&lt;p&gt;vercel.app 这类域名还能继续访问。&lt;/p&gt;
&lt;p&gt;免费的良心服务总是被滥用😕&lt;/p&gt;</summary>
    
    
    
    
    <category term="网络问题" scheme="https://loafing.cn/tags/%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>「备忘」micro编辑器进阶配置</title>
    <link href="https://loafing.cn/posts/micro-editor-advanced-usage.html"/>
    <id>https://loafing.cn/posts/micro-editor-advanced-usage.html</id>
    <published>2021-05-03T00:31:21.000Z</published>
    <updated>2023-03-24T23:31:21.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p><a href="https://github.com/zyedidia/micro#usage">https://github.com/zyedidia/micro#usage</a></p><span id="more"></span><h3 id="option-选项">option 选项</h3><p><code>micro ~/.config/micro/settings.json</code></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;clipboard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;internal&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mkparents&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;savecursor&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;saveundo&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;scrollbar&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;softwrap&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>clipboard<br />&quot;internal&quot;,使用内置剪切板。<br />最近突然发现 micro 界面全黑，无法进行任何操作，排除终端配色问题之后，最终用此方法解决。</li><li>mkparents<br />自动创建原本不存在的父文件夹，免去提前手动 <code>mkdir directory</code> 的麻烦。</li><li>savecursor<br />记住上次打开文件时光标的位置，并在再次打开文件时将光标定位至该处。</li><li>saveundo<br />即使关闭文件后也会保存撤消操作，关闭并重新打开文件，仍可以继续撤消操作。</li><li>scrollbar<br />显示滚动条。<em>可惜不支持鼠标拖动？</em></li><li>softwrap<br />过长以至于无法直接在屏幕上直接显示完整的行将换行显示。（意译，有点拗口）<blockquote><p><em>wrap lines that are too long to fit on the screen.</em><br /><em>这个功能好像有 bug ，未能生效。</em></p></blockquote></li></ul><h3 id="Keybindings-键位绑定">Keybindings 键位绑定</h3><p>micro editor 的部分键位绑定与我们在 Windows 下面的编辑习惯基本一致：</p><pre><code>……&quot;Ctrl-o&quot;:          &quot;OpenFile&quot;,&quot;Ctrl-s&quot;:          &quot;Save&quot;,&quot;Ctrl-f&quot;:          &quot;Find&quot;,&quot;Ctrl-n&quot;:          &quot;FindNext&quot;,&quot;Ctrl-p&quot;:          &quot;FindPrevious&quot;,&quot;Ctrl-z&quot;:          &quot;Undo&quot;,&quot;Ctrl-y&quot;:          &quot;Redo&quot;,&quot;Ctrl-c&quot;:          &quot;CopyLine|Copy&quot;,&quot;Ctrl-x&quot;:          &quot;Cut&quot;,&quot;Ctrl-k&quot;:          &quot;CutLine&quot;,&quot;Ctrl-d&quot;:          &quot;DuplicateLine&quot;,&quot;Ctrl-v&quot;:          &quot;Paste&quot;,&quot;Ctrl-a&quot;:          &quot;SelectAll&quot;,&quot;Ctrl-t&quot;:          &quot;AddTab&quot;,……</code></pre><p>如需自定义：<br /><code>micro ~/.config/micro/bindings.json</code></p><p>支持自定义的键位组合以及特殊操作详见 <a href="https://github.com/zyedidia/micro/blob/master/runtime/help/keybindings.md#bindable-actions-and-bindable-keys">Bindable actions and bindable keys</a></p><p>我这里由于 Ctrl-n 与终端快捷键 “新建标签页” 冲突，所以改成 Alt-n，方便在搜索结果之间跳转。</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;Alt-n&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FindNext&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Alt-p&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FindPrevious&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/zyedidia/micro#usage&quot;&gt;https://github.com/zyedidia/micro#usage&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="工具" scheme="https://loafing.cn/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>「记录」金士顿 DT100G3 读写测试及使用 Ventoy 制作引导盘</title>
    <link href="https://loafing.cn/posts/KINGSTON-DT100G3-rw-test-and-Ventoy-tool.html"/>
    <id>https://loafing.cn/posts/KINGSTON-DT100G3-rw-test-and-Ventoy-tool.html</id>
    <published>2021-03-29T14:09:22.000Z</published>
    <updated>2021-03-31T14:45:22.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>虚假的 USB 3.0（又不是不能用.webp）</p><span id="more"></span><p><em>狗东最近原价 29.5￥，二手群里好几位 20 块钱出的，不清楚他们哪来的优惠。</em></p><h2 id="U-盘读写速度测试">U 盘读写速度测试</h2><h3 id="hdparm">hdparm</h3><figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">$ sudo hdparm -v /dev/sda1</span><br><span class="line"></span><br><span class="line">/dev/sda1:</span><br><span class="line">SG_IO: bad/missing sense data, sb[]: <span class="number"> 70 </span>00<span class="number"> 05 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>0a<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 20 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00</span><br><span class="line"> multcount     = <span class="number"> 0 </span>(off)</span><br><span class="line"> readonly      = <span class="number"> 0 </span>(off)</span><br><span class="line"> readahead     =<span class="number"> 256 </span>(on)</span><br><span class="line"> geometry      = 29510/64/32, sectors = 60435585, start = 63</span><br></pre></td></tr></table></figure><figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">$ sudo hdparm -t /dev/sda1</span><br><span class="line"></span><br><span class="line">/dev/sda1:</span><br><span class="line">SG_IO: bad/missing sense data, sb[]: <span class="number"> 70 </span>00<span class="number"> 05 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>0a<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 20 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00</span><br><span class="line"> Timing buffered disk reads: <span class="number"> 86 </span>MB in  3.04 seconds =  28.27 MB/sec</span><br><span class="line"></span><br><span class="line">$ sudo hdparm -t /dev/sda1</span><br><span class="line"></span><br><span class="line">/dev/sda1:</span><br><span class="line">SG_IO: bad/missing sense data, sb[]: <span class="number"> 70 </span>00<span class="number"> 05 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>0a<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 20 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00</span><br><span class="line"> Timing buffered disk reads: <span class="number"> 86 </span>MB in  3.04 seconds =  28.28 MB/sec</span><br><span class="line"></span><br><span class="line">$ sudo hdparm -t /dev/sda1</span><br><span class="line"></span><br><span class="line">/dev/sda1:</span><br><span class="line">SG_IO: bad/missing sense data, sb[]: <span class="number"> 70 </span>00<span class="number"> 05 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>0a<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 20 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00<span class="number"> 00 </span>00</span><br><span class="line"> Timing buffered disk reads: <span class="number"> 86 </span>MB in  3.04 seconds =  28.31 MB/sec</span><br></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">$ sudo hdparm -T <span class="regexp">/dev/</span>sda1</span><br><span class="line"></span><br><span class="line"><span class="regexp">/dev/</span>sda1:</span><br><span class="line"> Timing cached reads:   <span class="number">14584</span> MB <span class="keyword">in</span>  <span class="number">2.00</span> seconds = <span class="number">7301.28</span> MB/sec</span><br><span class="line">$ sudo hdparm -T <span class="regexp">/dev/</span>sda1</span><br><span class="line"></span><br><span class="line"><span class="regexp">/dev/</span>sda1:</span><br><span class="line"> Timing cached reads:   <span class="number">16512</span> MB <span class="keyword">in</span>  <span class="number">2.00</span> seconds = <span class="number">8268.10</span> MB/sec</span><br><span class="line">$ sudo hdparm -T <span class="regexp">/dev/</span>sda1</span><br><span class="line"></span><br><span class="line"><span class="regexp">/dev/</span>sda1:</span><br><span class="line"> Timing cached reads:   <span class="number">15396</span> MB <span class="keyword">in</span>  <span class="number">2.00</span> seconds = <span class="number">7707.75</span> MB/sec</span><br></pre></td></tr></table></figure><h3 id="dd">dd</h3><p>参考 <a href="https://www.jianshu.com/p/f1d89b3174e2">Linux下用dd测试你U盘的读写速度</a></p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">$ df -h -T</span><br><span class="line">$ cd /media/xxx/KINGSTON # 根据上面找到的路径填写</span><br><span class="line"></span><br><span class="line">$ sudo sh -c <span class="string">&quot;sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches&quot;</span></span><br><span class="line">$ dd <span class="attribute">if</span>=/dev/zero <span class="attribute">of</span>=./test_write <span class="attribute">count</span>=200 <span class="attribute">bs</span>=1024k</span><br><span class="line">记录了200+0 的读入</span><br><span class="line">记录了200+0 的写出</span><br><span class="line">209715200 bytes (210 MB, 200 MiB) copied, 15.4407 s, 13.6 MB/s</span><br><span class="line"></span><br><span class="line">$ sudo sh -c <span class="string">&quot;sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches&quot;</span></span><br><span class="line">$ dd <span class="attribute">if</span>=/dev/zero <span class="attribute">of</span>=./test_write <span class="attribute">count</span>=200 <span class="attribute">bs</span>=2048k</span><br><span class="line">记录了200+0 的读入</span><br><span class="line">记录了200+0 的写出</span><br><span class="line">419430400 bytes (419 MB, 400 MiB) copied, 29.076 s, 14.4 MB/s</span><br><span class="line"></span><br><span class="line">$ sudo sh -c <span class="string">&quot;sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches&quot;</span></span><br><span class="line">$ dd <span class="attribute">if</span>=./test_write <span class="attribute">of</span>=/dev/null <span class="attribute">count</span>=200 <span class="attribute">bs</span>=1024k</span><br><span class="line">记录了200+0 的读入</span><br><span class="line">记录了200+0 的写出</span><br><span class="line">209715200 bytes (210 MB, 200 MiB) copied, 6.73982 s, 31.1 MB/s</span><br><span class="line"></span><br><span class="line">$ sudo sh -c <span class="string">&quot;sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches&quot;</span></span><br><span class="line">$ dd <span class="attribute">if</span>=./test_write <span class="attribute">of</span>=/dev/null <span class="attribute">count</span>=200 <span class="attribute">bs</span>=2048k</span><br><span class="line">记录了200+0 的读入</span><br><span class="line">记录了200+0 的写出</span><br><span class="line">419430400 bytes (419 MB, 400 MiB) copied, 13.4282 s, 31.2 MB/s</span><br></pre></td></tr></table></figure><p>两个 USB 口都试过，区别不大。</p><h3 id="总结">总结</h3><p><strong>写入 14 MB/s ，读取 31 MB/s</strong> ，和我之前原价 29￥ 还优惠两块买的 闪迪CZ73（写30，读155）相比，真是惨不忍睹。</p><p>应该再砍砍价的，十几块钱的货色才可以接受这种速度😣</p><hr /><h4 id="2021-03-31-补充">2021.03.31 补充</h4><p>今天晚上把U盘里的一个镜像文件拷进电脑，速度有 88 MB/s ，特别稳定，奇怪。</p><h2 id="使用-Ventoy-制作引导盘">使用 Ventoy 制作引导盘</h2><p><a href="https://www.ventoy.net/">Ventoy 官网</a></p><ol><li>前往 Github Release 下载最新版压缩包；</li><li>解压；</li><li>运行脚本；</li><li>浏览器打开网页进行 Ventoy 安装（U盘将被格式化）。</li></ol><p>示例：</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">cd</span> ~/Downloads</span><br><span class="line"><span class="attribute">wget</span> https://github.com/ventoy/Ventoy/releases/download/v1.<span class="number">0</span>.<span class="number">39</span>/ventoy-<span class="number">1</span>.<span class="number">0</span>.<span class="number">39</span>-linux.tar.gz</span><br><span class="line"><span class="attribute">tar</span> xvf ventoy-<span class="number">1</span>.<span class="number">0</span>.<span class="number">39</span>-linux.tar.gz</span><br><span class="line"><span class="attribute">cd</span> ventoy-<span class="number">1</span>.<span class="number">0</span>.<span class="number">39</span></span><br><span class="line"><span class="attribute">sudo</span> sh VentoyWeb.sh</span><br></pre></td></tr></table></figure><p>出现提示：</p><figure class="highlight clean"><table><tr><td class="code"><pre><span class="line">===============================================================</span><br><span class="line">  Ventoy Server <span class="number">1.0</span><span class="number">.39</span> 已经启动 ...</span><br><span class="line">  请打开浏览器，访问 http:<span class="comment">//127.0.0.1:24680</span></span><br><span class="line">===============================================================</span><br><span class="line"></span><br><span class="line">################## Press Ctrl + C to exit #####################</span><br></pre></td></tr></table></figure><p>浏览器打开 <a href="http://127.0.0.1:24680">http://127.0.0.1:24680</a> ，确认U盘无误，通常默认安装即可。</p><p>安装完毕，此时这块U盘包含一个小的引导分区和一个大的默认使用 exFAT 格式的分区，今后直接将 ISO 镜像文件放进这个分区，就能用于重装系统，不必像以往的引导盘制作工具（例如 DiskGenius ）做的那样，次次重新格式化U盘，费时费力，浪费生命。</p><p>它既可以用于装系统，也可以同时存储其它文件（mp3、mp4、电子书、绿色版 Windows 软件、ROM 刷机包等等），互不干扰。</p><p><mark>当然，以防万一最好还是别单独用它长久存放重要数据。</mark></p><hr /><p><em>又水了一篇🤣</em></p><hr /><p>补充：现在大部分手机都支持 OTG 功能，只要买一条 OTG 转接头 / 数据线，就能把U盘、读卡器、或者移动硬盘当作外部存储设备。</p><p>如果电脑系统不幸坏了，手机上下个 live 系统的镜像，放进这块制作好的 Ventoy 启动盘，启动U盘里的 live 系统，或许就能找到办法拯救电脑里的系统，或者再找一块大硬盘插入，方便进行数据备份。</p><!--~~（那么问题来了，如果你有这个技术的话还有必要看我这篇没水平的文章吗？🤣）~~--><p>但是由于将 exFAT 分区技术用于商业用途需要向微软公司上缴授权费，部分手机厂商只给部分旗舰级搭载 exFAT 支持，所以你的手机可能无法读取 exFAT 的存储设备。</p><p>如果你不需要存储 4 GB 以上的文件，大可将上面提到的 exFAT 分区格式化为 vfat（亦称 fat32）分区。</p><hr /><p><em>——如何让不支持 exFAT 的手机变得支持 exFAT？</em></p><p><em>——更换支持此项特性的内核即可。详情不表。</em></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;虚假的 USB 3.0（又不是不能用.webp）&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="Linux" scheme="https://loafing.cn/tags/Linux/"/>
    
    <category term="吐槽" scheme="https://loafing.cn/tags/%E5%90%90%E6%A7%BD/"/>
    
    <category term="测评" scheme="https://loafing.cn/tags/%E6%B5%8B%E8%AF%84/"/>
    
  </entry>
  
  <entry>
    <title>「引导修复」记一次swap分区未挂载及电脑开机过慢的解决过程</title>
    <link href="https://loafing.cn/posts/fstab-swap-UUID-update-grub-and-initramfs.html"/>
    <id>https://loafing.cn/posts/fstab-swap-UUID-update-grub-and-initramfs.html</id>
    <published>2021-03-25T11:31:45.000Z</published>
    <updated>2021-03-25T12:23:45.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>Arch 被玩坏了，手贱装个 Kali 玩玩，结果 Deepin 系统开机等得人胡子都长了（另一个 Windows 开机倒是好好的），白天干着正事吓得不敢再关机，晚上抽空一边解决一边瞎记录。</p><p>关键词：fstab、UUID、mdadm: No arrays found in config file or automatically</p><span id="more"></span><figure class="highlight fortran"><table><tr><td class="code"><pre><span class="line">$ systemd-analyze</span><br><span class="line">Startup finished <span class="keyword">in</span> <span class="number">16.460</span>s (firmware) + <span class="number">3.707</span>s (loader) + <span class="number">35.443</span>s (kernel) + <span class="number">3</span><span class="built_in">min</span> <span class="number">845</span>ms (userspace) = <span class="number">3</span><span class="built_in">min</span> <span class="number">56.455</span>s </span><br><span class="line">graphical.<span class="keyword">target</span> reached after <span class="number">1</span><span class="built_in">min</span> <span class="number">39.534</span>s <span class="keyword">in</span> userspace</span><br></pre></td></tr></table></figure><p><code>sudo micro /boot/grub/grub.cfg</code></p><p>可以看见里面还有 Arch 相关的内容。（明明那个分区已经变成 Kali 的形状了）</p><p>咱这启动分区只给了 100 M，还是趁早删掉不必要的启动项为妙。</p><figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">cd <span class="regexp">/boot/</span>efi/EFI</span><br><span class="line">ls</span><br><span class="line"># Arch<span class="regexp">/  Boot/</span>  kali<span class="regexp">/  Microsoft/</span>  ubuntu<span class="regexp">/  UOS/</span></span><br><span class="line">sudo rm -rf Arch/ # 慎重</span><br></pre></td></tr></table></figure><hr /><p>开机过程中按 Ctrl + Alt + F2 进入 tty ，抓紧时间手机拍照记录。</p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/03/1616676039271.webp" alt="IMG_20210325_204025" /></p><p>发现两条比较显眼的报错：</p><p><mark>mdadm: No arrays found in config file or automatically</mark></p><p><mark>A start job is running for /dev/disk/by-uuid/754681cb-4bf4-4e26-8ec9-88a7bd953cc5 (53s / 1min 30s)</mark></p><p>一番询问，估计是 fstab 的问题。</p><p><code>sudo micro /etc/fstab</code></p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># /dev/nvme0n1p4</span></span><br><span class="line"><span class="attribute">UUID</span>=<span class="number">7</span>d83ac47-<span class="number">2362</span>-<span class="number">402</span>e-<span class="number">96</span>aa-<span class="number">39307313</span>bfa6/         ext4      rw,relatime<span class="number">0</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># /dev/nvme0n1p1 LABEL=EFI\040system\040partition</span></span><br><span class="line"><span class="attribute">UUID</span>=<span class="number">4843</span>-B1F2      /boot/efi vfat      rw,relatime,fmask=<span class="number">0022</span>,dmask=<span class="number">0022</span>,codepage=<span class="number">437</span>,iocharset=iso8859-<span class="number">1</span>,shortname=mixed,utf8,errors=remount-ro<span class="number">0</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># /dev/nvme0n1p5</span></span><br><span class="line"><span class="attribute">UUID</span>=<span class="number">754681</span>cb-<span class="number">4</span>bf4-<span class="number">4</span>e26-<span class="number">8</span>ec9-<span class="number">88</span>a7bd953cc5none      swap      defaults,pri=-<span class="number">2</span><span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p><code>sudo blkid</code></p><figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line">/dev/nvme0n1p5: UUID=&quot;3391ba57<span class="string">-2</span>b68<span class="string">-4</span>edf<span class="string">-9</span>ebc<span class="string">-1</span>a314c082e4a&quot; TYPE=&quot;swap&quot; PARTUUID=&quot;fdaf5a3a<span class="string">-2</span>ee5<span class="string">-43</span>c4<span class="string">-89</span>d8-eb5eb802fe5d&quot;</span><br></pre></td></tr></table></figure><p>果然是因为 swap 分区的 UUID 变了，而 fstab 文件没有及时更新，无法正确对应，自然也就不能挂载 sawp 分区。</p><p>解决办法不用说，修改为正确的 UUID 。</p><p>然后更新 grub2：</p><figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">$ sudo update-grub2</span><br><span class="line">Generating grub configuration <span class="keyword">file</span> ...</span><br><span class="line">Found theme: <span class="regexp">/boot/g</span>rub<span class="regexp">/themes/</span>deepin/theme.txt</span><br><span class="line">Found background image: <span class="regexp">/boot/g</span>rub<span class="regexp">/themes/</span>deepin/background.jpg</span><br><span class="line">Found linux image: <span class="regexp">/boot/</span>vmlinuz-<span class="number">5.10</span>.<span class="number">5</span>-amd64-desktop+</span><br><span class="line">Found initrd image: <span class="regexp">/boot/i</span>nitrd.img-<span class="number">5.10</span>.<span class="number">5</span>-amd64-desktop+</span><br><span class="line">Found linux image: <span class="regexp">/boot/</span>vmlinuz-<span class="number">5.4</span>.<span class="number">70</span>-amd64-desktop</span><br><span class="line">Found initrd image: <span class="regexp">/boot/i</span>nitrd.img-<span class="number">5.4</span>.<span class="number">70</span>-amd64-desktop</span><br><span class="line">Found Windows Boot Manager on <span class="regexp">/dev/</span>nvme0n1p1@<span class="regexp">/EFI/Mi</span>crosoft<span class="regexp">/Boot/</span>bootmgfw.efi</span><br><span class="line">Found Kali GNU<span class="regexp">/Linux Rolling on /</span>dev/nvme0n1p6</span><br><span class="line">Adding boot menu entry <span class="keyword">for</span> EFI firmware configuration</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>重启……</p><p>还是很慢，不过好歹 swap 挂载上了，休眠功能可用。</p><hr /><p>再进 tty</p><p><mark>mdadm: No arrays found in config file or automatically</mark></p><p>这条报错还在。</p><p>继续搜索如何解决，得到的答案是重新生成 initramfs 。</p><figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">$ sudo update-initramfs -u</span><br><span class="line"><span class="section">update-initramfs: Generating /boot/initrd.img-5.10.5-amd64-desktop+</span></span><br><span class="line"><span class="section">cryptsetup: WARNING: The initramfs image may not contain cryptsetup binaries </span></span><br><span class="line">    nor crypto modules. If that&#x27;s on purpose, you may want to uninstall the </span><br><span class="line">    &#x27;cryptsetup-initramfs&#x27; package in order to disable the cryptsetup initramfs </span><br><span class="line">    integration and avoid this warning.</span><br><span class="line">setupcon is missing. Please install the &#x27;console-setup&#x27; package.</span><br><span class="line"><span class="section">W: plymouth: The plugin label.so is missing, the selected theme might not work as expected.</span></span><br><span class="line"><span class="section">W: plymouth: You might want to install the plymouth-themes package to fix this.</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_gpu_info.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/arcturus_gpu_info.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_ta.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_sos.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/arcturus_ta.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/arcturus_asd.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/arcturus_sos.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_ta.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_asd.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_rlc.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_mec2.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_mec.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_me.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_pfp.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_ce.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/arcturus_rlc.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/arcturus_mec2.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/arcturus_mec.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_rlc.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_mec2.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_mec.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_me.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_pfp.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_ce.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_sdma.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/arcturus_sdma.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_sdma.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/sienna_cichlid_mes.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navi10_mes.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_vcn.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_vcn.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/arcturus_vcn.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/navy_flounder_smc.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/arcturus_smc.bin for module amdgpu</span></span><br><span class="line"><span class="section">W: Possible missing firmware /lib/firmware/amdgpu/green_sardine_dmcub.bin for module amdgpu</span></span><br><span class="line"><span class="section">I: The initramfs will attempt to resume from /dev/nvme0n1p5</span></span><br><span class="line"><span class="section">I: (UUID=3391ba57-2b68-4edf-9ebc-1a314c082e4a)</span></span><br><span class="line"><span class="section">I: Set the RESUME variable to override this.</span></span><br><span class="line"><span class="section">live-boot: core filesystems devices utils udev blockdev dns.</span></span><br></pre></td></tr></table></figure><p>好眼熟，装 Deepin 的时候就有类似的输出。</p><p>重启……</p><p>开机速度正常啦 <sub>(≧▽≦)/</sub></p><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line">$ systemd-analyze</span><br><span class="line">Startup finished in <span class="number">12.088</span>s (firmware) + <span class="number">3.415</span>s (loader) + <span class="number">7.980</span>s (kernel) + <span class="number">10.615</span>s (userspace) = <span class="number">34.101</span>s </span><br><span class="line">graphical.<span class="keyword">target</span> reached <span class="keyword">after</span> 10.603s in userspace</span><br></pre></td></tr></table></figure><hr /><p>🤔：<code>update-</code> 按 tab 键的时候，出现好多看样子可以更新的待选项目，或许就是由于其中某项没有及时更新导致 firmware 速度被拖慢（正常情况应该是 3 秒左右而现在是 12 秒）`</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Arch 被玩坏了，手贱装个 Kali 玩玩，结果 Deepin 系统开机等得人胡子都长了（另一个 Windows 开机倒是好好的），白天干着正事吓得不敢再关机，晚上抽空一边解决一边瞎记录。&lt;/p&gt;
&lt;p&gt;关键词：fstab、UUID、mdadm: No arrays found in config file or automatically&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="Linux" scheme="https://loafing.cn/tags/Linux/"/>
    
    <category term="记录" scheme="https://loafing.cn/tags/%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>「记录」Deepin-V20.1编译并使用Scrcpy将手机屏幕投放至电脑</title>
    <link href="https://loafing.cn/posts/Build-and-Use-Scrcpy-on-DeepinOS.html"/>
    <id>https://loafing.cn/posts/Build-and-Use-Scrcpy-on-DeepinOS.html</id>
    <published>2021-03-12T16:18:22.000Z</published>
    <updated>2021-04-18T11:21:22.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p><em>apt 仓库没有，snap 商店下载太慢，qtscrcpy 更新不及时，guiscrcpy 杀马特。</em><br />直接从源码编译，体积小、速度快、效率高。<br /><strong>自己动手，丰衣足食。</strong></p><span id="more"></span><h2 id="简化版">简化版</h2><p>2021.04.18</p><p>安装依赖：</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># for Debian/Ubuntu</span></span><br><span class="line"><span class="attribute">sudo</span> apt install ffmpeg libsdl2-<span class="number">2</span>.<span class="number">0</span>-<span class="number">0</span> adb wget \</span><br><span class="line">                 <span class="attribute">gcc</span> git pkg-config meson ninja-build \</span><br><span class="line">                 <span class="attribute">libavcodec</span>-dev libavformat-dev libavutil-dev libsdl2-dev</span><br></pre></td></tr></table></figure><p>克隆仓库、执行安装脚本：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Genymobile/scrcpy</span><br><span class="line"><span class="built_in">cd</span> scrcpy</span><br><span class="line">./install_release.sh</span><br></pre></td></tr></table></figure><figure class="highlight nestedtext"><table><tr><td class="code"><pre><span class="line"><span class="attribute">$ scrcpy -v</span></span><br><span class="line"><span class="attribute">scrcpy 1.17</span></span><br><span class="line"><span class="attribute"></span></span><br><span class="line"><span class="attribute">dependencies</span><span class="punctuation">:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">SDL 2.0.9</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">libavcodec 58.35.100</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">libavformat 58.20.100</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">libavutil 56.22.100</span></span><br></pre></td></tr></table></figure><p>后续更新仓库、重新安装：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git pull</span><br><span class="line">./install_release.sh</span><br></pre></td></tr></table></figure><p>如需卸载：</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">sudo ninja -Cbuild-<span class="built_in">auto</span> uninstall</span><br></pre></td></tr></table></figure><hr /><h2 id="自编译安装-Scrcpy">自编译安装 Scrcpy</h2><h3 id="安装所需依赖">安装所需依赖</h3><figure class="highlight q"><table><tr><td class="code"><pre><span class="line">sudo apt install adb ffmpeg libsdl2<span class="number">-2.0</span><span class="number">.0</span> make gcc pkg-config meson ninja-build \</span><br><span class="line">                 libavcodec-<span class="built_in">dev</span> libavformat-<span class="built_in">dev</span> libavutil-<span class="built_in">dev</span> libsdl2-<span class="built_in">dev</span></span><br></pre></td></tr></table></figure><h3 id="获取源码">获取源码</h3><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">wget https:<span class="regexp">//gi</span>thub.com<span class="regexp">/Genymobile/</span>scrcpy<span class="regexp">/releases/</span>download<span class="regexp">/v1.17/</span>scrcpy-server-v1.<span class="number">17</span></span><br><span class="line">mv scrcpy-server-v1.<span class="number">17</span> scrcpy-server-v1.<span class="number">17</span>.jar</span><br><span class="line"></span><br><span class="line">wget https:<span class="regexp">//gi</span>thub.com<span class="regexp">/Genymobile/</span>scrcpy<span class="regexp">/archive/m</span>aster.zip</span><br><span class="line">unzip master.zip</span><br></pre></td></tr></table></figure><h3 id="安装服务">安装服务</h3><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo install scrcpy-server-v1.<span class="number">17</span>.jar <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>scrcpy-server.jar</span><br></pre></td></tr></table></figure><h3 id="编译并安装">编译并安装</h3><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> scrcpy-master</span><br><span class="line">meson build <span class="params">--buildtype</span> release <span class="params">--strip</span> -Db_lto=<span class="literal">true</span>  -Dprebuilt_server=<span class="string">../scrcpy-server-</span>*<span class="string">.jar</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">cd</span> build</span><br><span class="line">ninja</span><br><span class="line"></span><br><span class="line">sudo ninja install</span><br></pre></td></tr></table></figure><h3 id="查看版本信息">查看版本信息</h3><figure class="highlight nestedtext"><table><tr><td class="code"><pre><span class="line"><span class="attribute">scrcpy -v</span></span><br><span class="line"><span class="attribute">scrcpy 1.17</span></span><br><span class="line"><span class="attribute"></span></span><br><span class="line"><span class="attribute">dependencies</span><span class="punctuation">:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">SDL 2.0.9</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">libavcodec 58.35.100</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">libavformat 58.20.100</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">libavutil 56.22.100</span></span><br></pre></td></tr></table></figure><p>1.17 版 Scrcpy 修复了不少 Android 11 上的问题。</p><h2 id="Scrcpy-简单使用">Scrcpy 简单使用</h2><p>手机启用开发者模式，打开 USB 调试，USB 数据线连接电脑，运行 <code>scrcpy</code> ，手机弹出权限申请窗口，允许调试。</p><p>有线连接即便使用高画质也能保证画面流畅。</p><p>鼠标左键点按，右键返回，中键 home 。</p><p>手机按照常规方式选中一段文字，电脑 Ctrl + C 可以直接穿透复制。</p><p>为防止烧屏（OLED）、残影（LCD），通常加上 <code>-S</code> 参数，熄灭手机屏幕，仅将画面投射至电脑屏幕。</p><hr /><p>无线连接需要先使用 <code>adb tcpip 5555</code> 开启 TCP/IP 端口进行无线调试。</p><p>然后拔掉数据线。</p><p><code>adb connect 192.168.xx.xx:5555</code> <em>如果手机连的 WiFi ，直接在 WIFI 设置里面应该能看见对应的 IP 地址；如果是手机开热点（建议手动指定 5 G 频率，如果可用……），可能需要 Termux 运行 <code>ifconfig</code> 查看手机的局域网 IP 地址。</em></p><p><code>adb devices</code> 查看是否显示设备序列号。</p><p>同上，<code>scrcpy</code> 获取并输出手机屏幕。</p><p>如果无线速度比较捉急，加上参数 <code>-b 4M</code> 限制码率，<code>--max-fps 15</code> 限制帧率。</p><p>如果有多个设备，<code>scrcpy -s ip:5555</code> 或者 <code>scrcpy -s abcdefg</code> 指定需要输出的设备。</p><p>……</p><p>详见 <a href="https://github.com/Genymobile/scrcpy/blob/master/README.zh-Hans.md">官方 README 中文译版</a></p><hr /><p>补充：如果不想每次先有线再无线，且手机有 root 的话，可以安装并使用 ADB WIFI ，再进行 adb connect ip:5555 。</p><h3 id="遇到的问题">遇到的问题</h3><ol><li>剪切板穿透不起效，电脑这边复制的文字，不能直接粘贴进手机。之前用 <code>snap install scrcpy</code> 安装的时候是可以的。</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;em&gt;apt 仓库没有，snap 商店下载太慢，qtscrcpy 更新不及时，guiscrcpy 杀马特。&lt;/em&gt;&lt;br /&gt;
直接从源码编译，体积小、速度快、效率高。&lt;br /&gt;
&lt;strong&gt;自己动手，丰衣足食。&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="Deepin" scheme="https://loafing.cn/tags/Deepin/"/>
    
    <category term="Linux" scheme="https://loafing.cn/tags/Linux/"/>
    
    <category term="教程" scheme="https://loafing.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>「Termux」自用优化</title>
    <link href="https://loafing.cn/posts/Termux-Optimization.html"/>
    <id>https://loafing.cn/posts/Termux-Optimization.html</id>
    <published>2021-03-12T00:45:28.000Z</published>
    <updated>2021-03-12T08:03:28.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><span id="more"></span><h2 id="oh-my-zsh">( oh my ) zsh</h2><p><code>sh -c &quot;$(curl -fsSL https://github.com/Cabbagec/termux-ohmyzsh/raw/master/install.sh)&quot;</code></p><p><code>~/.termux/colors.sh</code> 更改色彩样式，推荐 flat 。</p><p><code>~/.termux/fonts.sh</code> 更改终端字体，推荐 Ubuntu Powerline 。</p><h2 id="fish">fish</h2><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">apt <span class="keyword">install</span> fish</span><br><span class="line">chsh <span class="comment"># 切换默认 shell</span></span><br><span class="line">fish</span><br></pre></td></tr></table></figure><p>fish 的流畅度比 zsh 强得多。</p><h3 id="export-PATH-和-alias">export PATH 和 'alias'</h3><p><em>fish 的用法和 bash 、zsh 不一样。</em></p><p><code>micro ~/.config/fish/config.fish</code></p><figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> PATH ~/.<span class="built_in">local</span>/bin/ $PATH</span><br><span class="line"><span class="keyword">abbr</span> -<span class="keyword">a</span> update <span class="string">&#x27;git add . &amp;&amp; git commit -m &quot;update&quot; &amp;&amp; git push&#x27;</span></span><br></pre></td></tr></table></figure><p>以此类推。</p><h3 id="omf">omf</h3><p><code>curl -L https://get.oh-my.fish | fish</code></p><h4 id="theme">theme</h4><p><code>omf install agnoster</code></p><p><em>如果不使用 Powerline 字体，定位光标将会乱码。</em></p><h4 id="autojump-插件">autojump 插件</h4><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">bash</span><br><span class="line">git clone git:<span class="regexp">//gi</span>thub.com<span class="regexp">/wting/</span>autojump.git</span><br><span class="line">cd autojump</span><br><span class="line">.<span class="regexp">/install.py or # ./u</span>ninstall.py</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fish</span><br><span class="line">omf install autojump</span><br></pre></td></tr></table></figure><p><em>以后跳转目录就不用频繁地 cd 了。</em></p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/03/1615708523121.webp" alt="IMG_20210314_155454" /></p><h2 id="自定义快捷键">自定义快捷键</h2><p><code>micro ~/.termux/termux.properties</code></p><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">extra-keys = [ \</span><br><span class="line"><span class="number">2</span>   [<span class="string">&#x27;`&#x27;</span>,<span class="string">&#x27;&lt;&#x27;</span>,<span class="string">&#x27;&gt;&#x27;</span>,<span class="string">&#x27;/&#x27;</span>,<span class="string">&#x27;[&#x27;</span>,<span class="string">&#x27;]&#x27;</span>,<span class="string">&#x27;(&#x27;</span>,<span class="string">&#x27;)&#x27;</span>,<span class="string">&#x27;,&#x27;</span>], \</span><br><span class="line"><span class="number">3</span>   [<span class="symbol">&#x27;micro</span><span class="string">&#x27;,&#x27;</span>#<span class="string">&#x27;,&#x27;</span>ESC<span class="string">&#x27;,&#x27;</span>```<span class="string">&#x27;,&#x27;</span>PGUP<span class="string">&#x27;,&#x27;</span>HOME<span class="string">&#x27;,&#x27;</span>UP<span class="string">&#x27;,&#x27;</span><span class="keyword">END</span><span class="string">&#x27;,&#x27;</span>BKSP</span><br><span class="line"><span class="number">4</span>   [<span class="symbol">&#x27;TAB</span><span class="string">&#x27;,&#x27;</span>CTRL<span class="string">&#x27;,&#x27;</span>-<span class="string">&#x27;,&#x27;</span>BACKSLASH<span class="string">&#x27;,&#x27;</span>PGDN<span class="string">&#x27;,&#x27;</span>LEFT<span class="string">&#x27;,&#x27;</span>DOWN<span class="string">&#x27;,&#x27;</span>RIG</span><br><span class="line"><span class="number">5</span> ]</span><br></pre></td></tr></table></figure><h2 id="解决-git-status-中文乱码">解决  git status 中文乱码</h2><p><code>micro ~/.gitconfig</code></p><figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">[gui]</span><br><span class="line"><span class="number"> 2 </span>    encoding = utf-8</span><br><span class="line"><span class="number"> 3 </span>    <span class="comment"># 代码库统一使用utf-8</span></span><br><span class="line"><span class="number"> 4 </span>[i18n]</span><br><span class="line"><span class="number"> 5 </span>    commitencoding = utf-8</span><br><span class="line"><span class="number"> 6 </span>    <span class="comment"># log编码</span></span><br><span class="line"><span class="number"> 7 </span>[svn]</span><br><span class="line"><span class="number"> 8 </span>    pathnameencoding = utf-8</span><br><span class="line"><span class="number"> 9 </span>    <span class="comment"># 支持中文路径</span></span><br><span class="line">10 [core]</span><br><span class="line">11     quotepath = false</span><br><span class="line">12     <span class="comment"># status 引用路径不再是八进制</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text&amp;#x2F;css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css&quot;&gt;&lt;span id=&quot;mor</summary>
      
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="记录" scheme="https://loafing.cn/tags/%E8%AE%B0%E5%BD%95/"/>
    
    <category term="Termux" scheme="https://loafing.cn/tags/Termux/"/>
    
  </entry>
  
  <entry>
    <title>「记录」Debian 编译安装 Python3.9.2 并使用 LanZouCloud-CMD</title>
    <link href="https://loafing.cn/posts/Building_Python3.9.2_and_Using_LanZouCloud-CMD.html"/>
    <id>https://loafing.cn/posts/Building_Python3.9.2_and_Using_LanZouCloud-CMD.html</id>
    <published>2021-02-27T05:21:05.000Z</published>
    <updated>2021-02-27T05:21:05.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>在终端登录蓝奏云无法通过滑动验证咋办？</p><span id="more"></span><h2 id="Debian-编译安装-python3-9-2">Debian 编译安装 python3.9.2</h2><p><a href="https://blog.csdn.net/weixin_39764487/article/details/111444359">参考</a></p><ol><li><p>安装构建Python源所需的包<br /><code>sudo apt install build-essential zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev libssl-dev libreadline-dev libffi-dev wget</code></p></li><li><p>从Python下载页面下载最新版本的源代码</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> 合适的目录</span><br><span class="line">curl -O https://www.python.org/ftp/python/3.9.2/Python-3.9.2.tgz</span><br></pre></td></tr></table></figure></li><li><p>解压 tgz 压缩包<br /><code>tar -xf Python-3.9.2.tgz</code></p></li><li><p>运行 configure 脚本，执行大量检查以确保系统上存在所有依赖项</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> Python-3.9.2</span><br><span class="line">./configure --enable-optimizations</span><br></pre></td></tr></table></figure><blockquote><p><em><code>--enable-optimizations</code> <a href="http://codingdict.com/questions/45948">会减慢构建过程，但会显著提高后续运行速度。</a></em></p></blockquote></li><li><p>启动构建过程<br /><code>make -j 8</code><br />8 是因为我的电脑 CPU 拥有 8 个核心，全部启用。<em><code>nproc</code> 查看核心数。</em><br />等待过程中另开一个窗口 <code>gotop</code> 欣赏处理器曲线。</p></li><li><p>安装Python二进制文件<br /><code>sudo make altinstall</code></p></li><li><p>验证是否可用<br /><code>python3.9 --version</code></p><p>报错 <code>zsh: command not found: python3.9</code></p><p>解决：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">whereis python3.9.2</span><br><span class="line">python3.9: /usr/local/bin/python3.9 /usr/local/lib/python3.9</span><br></pre></td></tr></table></figure><p><code>micro ~/.zshrc</code> 添加：</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> <span class="attribute">PATH</span>=<span class="string">&quot;/usr/local/bin:<span class="variable">$PATH</span>&quot;</span></span><br></pre></td></tr></table></figure><p>重新验证：</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">source</span> ~/.zshrc</span><br><span class="line"><span class="keyword">python3</span>.<span class="number">9</span> --<span class="keyword">version</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="使用-LanZouCloud-CMD">使用 <a href="https://github.com/zaxtyson/LanZouCloud-CMD">LanZouCloud-CMD</a></h2><blockquote><p><em>请使用 Python 3.8+ 运行，否则会报语法错误</em></p></blockquote><ol><li><p>安装：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> 合适的目录</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zaxtyson/ LanZouCloud-CMD</span><br><span class="line"><span class="built_in">cd</span> LanZouCloud-CMD</span><br><span class="line">pip3.9 install -r requirements.txt</span><br></pre></td></tr></table></figure></li><li><p>第一次登录：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3.9 lanzou_cmd.py clogin</span><br></pre></td></tr></table></figure><p>自动跳转浏览器登录蓝奏云 Lanzous ，手动获取 Cookies 并按照提示填入。<br /><em>Cookies 有几天的有效期，还可以接受。</em></p><blockquote><p><code>clogin</code> 命令支持使用 cookie 登录(防止某天 login 完全失效)<br />Cookie 内容见浏览器地址栏前的 lock 小锁 (Chrome):<br /><a href="http://woozooo.com">woozooo.com</a> -&gt; Cookie -&gt; ylogin<br /><a href="http://pc.woozooo.com">pc.woozooo.com</a> -&gt; Cookie -&gt; phpdisk_info</p></blockquote></li><li><p>登录后用法：<br /><code>ls</code> 查看网盘内文件<br /><code>down 文件名</code> 进行下载<br /><code>help</code> 查看全部命令<br /><code>bye</code> 退出</p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;在终端登录蓝奏云无法通过滑动验证咋办？&lt;/p&gt;</summary>
    
    
    
    
    <category term="记录" scheme="https://loafing.cn/tags/%E8%AE%B0%E5%BD%95/"/>
    
    <category term="教程" scheme="https://loafing.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>「教程」在Deepin（Linux）下如何优雅地查词典？—— sdcv ⚡📚</title>
    <link href="https://loafing.cn/posts/sdcv-dictionary-look-up-on-Deepin.html"/>
    <id>https://loafing.cn/posts/sdcv-dictionary-look-up-on-Deepin.html</id>
    <published>2021-02-25T14:04:55.000Z</published>
    <updated>2021-02-25T14:04:55.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><blockquote><p><em><strong>sdcv = stardict console version ，即终端下的 stardict 词典</strong></em></p></blockquote><p><mark>支持导入本地词典！</mark></p><span id="more"></span><h3 id="补充">补充</h3><p><code>man sdcv</code> 发现 sdcv 有个 <code>--color</code> 参数，加上之后，字典名称和释义颜色有所区分，阅读效果稍稍好些。</p><p><a href="https://github.com/Dushistov/sdcv">Github 源码</a></p><p><em>有个 <a href="http://www.stardict.net/">在线版</a>，不知道什么关系。</em></p><h3 id="Why-sdcv">Why sdcv ?</h3><ol><li>其它翻译工具要么需要联网（不稳定），要么作为本地词典但空间占用特别大（没必要）。</li><li>stardict 星际译王 GUI 太老丑。</li><li>sdcv 只需要开一个终端窗口就能用，反应迅速、使用方便、节约时间。</li></ol><h3 id="安装-sdcv">安装 sdcv</h3><p><code>sudo apt install sdcv</code></p><h3 id="下载词典包">下载词典包</h3><p>前往 <a href="http://download.huzheng.org/zh_CN/">神人胡正的网站</a></p><p>将词典解压后存放至 <code>~/.stardict/dic</code> ，如果目录不存在，则 <code>mkdir -p ~/.stardict/dic</code> 手动创建。</p><h3 id="查看已安装词典">查看已安装词典</h3><p><code>sdcv -l</code></p><details ><summary>点击展开</summary><div class="fold-content"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sdcv -l</span><br><span class="line">Dictionary<span class="string">&#x27;s name   Word count</span></span><br><span class="line"><span class="string">中国大百科全书2.0版    30624</span></span><br><span class="line"><span class="string">段注說文解字    10737</span></span><br><span class="line"><span class="string">朗道英汉字典5.0    435468</span></span><br><span class="line"><span class="string">牛津高阶英汉双解    39433   # 不推荐 《牛津现代英汉双解词典》及其美化版，排版换行有问题。</span></span><br><span class="line"><span class="string">新世纪汉英科技大词典    621241</span></span><br><span class="line"><span class="string">汉语成语词典    13305</span></span><br><span class="line"><span class="string">康熙字典文字版    46816</span></span><br><span class="line"><span class="string">汉语辞海    380580</span></span><br><span class="line"><span class="string">现代汉语词典    57691</span></span><br><span class="line"><span class="string">英文字根字典    7835</span></span><br><span class="line"><span class="string">本草纲目    765</span></span><br><span class="line"><span class="string">CET4    4595</span></span><br><span class="line"><span class="string">佛学大辞典    30928</span></span><br><span class="line"><span class="string">朗道汉英字典5.0    405719</span></span><br><span class="line"><span class="string">CET6    2043</span></span><br><span class="line"><span class="string">新世纪英汉科技大词典    626953</span></span><br><span class="line"><span class="string">古汉语常用字字典    3933</span></span><br><span class="line"><span class="string">诗词典故词典    2947</span></span><br></pre></td></tr></table></figure></div></details><p>将自用的 stardict 词典一次性打包收藏放在 <a href="https://lanzous.com/b00oc38ib">蓝奏云</a>，验证码：sdcv 。</p><h3 id="使用方法">使用方法</h3><p><code>sdcv 关键词</code> 查词，搜索结果较模糊的情况下，可能需要二次确认指定词典。</p><p>示例：</p><details ><summary>点击展开</summary><div class="fold-content"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&amp; sdcv love       </span><br><span class="line">Found 3 items, similar to love.</span><br><span class="line">--&gt;朗道英汉字典5.0</span><br><span class="line">--&gt;love</span><br><span class="line"></span><br><span class="line">*[lʌv]</span><br><span class="line">n. 爱, 恋爱, 爱情, 爱好, 性爱</span><br><span class="line">vt. 爱, 爱好, 爱慕</span><br><span class="line">vi. 爱</span><br><span class="line">相关词组:</span><br><span class="line">  not <span class="keyword">for</span> love nor money</span><br><span class="line">  have an ardent love <span class="keyword">for</span></span><br><span class="line">  I<span class="string">&#x27;d love to but...</span></span><br><span class="line"><span class="string">  for love or money</span></span><br><span class="line"><span class="string">  for the love of</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">--&gt;牛津高阶英汉双解</span></span><br><span class="line"><span class="string">--&gt;love</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/lʌv; lʌv/ n </span></span><br><span class="line"><span class="string">1 [U] warm liking or affection; affectionatedevotion 喜爱; 热爱; 锺爱</span></span><br><span class="line"><span class="string">*a mother&#x27;</span>s love <span class="keyword">for</span> her children 母亲对其子女的爱</span><br><span class="line">* love of (one<span class="string">&#x27;s) country, ie patriotism 对祖国的热爱</span></span><br><span class="line"><span class="string">* She has a great love for animals. </span></span><br><span class="line"><span class="string">她酷爱动物.</span></span><br><span class="line"><span class="string">* He shows little love towards her. </span></span><br><span class="line"><span class="string">他没怎么表现出喜爱她. </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2 [U] sexual affection or passion 性爱; 恋爱; 爱情</span></span><br><span class="line"><span class="string">*marry for love, not money 为爱情而非为金钱结婚</span></span><br><span class="line"><span class="string">* Their love has cooled, ie is no longer strong. </span></span><br><span class="line"><span class="string">他们的爱情冷却了. </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3 [U] (religion 宗) (in Christianity) God&#x27;</span>s benevolence towards mankind （基督教中）（上帝的）博爱, 慈爱. </span><br><span class="line"></span><br><span class="line">4 [U, sing] strong liking <span class="keyword">for</span> sth 酷爱某事物</span><br><span class="line">*a love of learning, adventure, music 酷爱学习、冒险、音乐. </span><br><span class="line"></span><br><span class="line">5 [C] person <span class="built_in">who</span> is loved; sweetheart 恋人; 情人; 爱人</span><br><span class="line">*Take care, my love. </span><br><span class="line">小心, 亲爱的.</span><br><span class="line">* one of my former loves 我从前的一个情人</span><br><span class="line">* (joc 谑) with his lady love, ie his girlfriend or wife 带着他的爱人（女友或妻）. </span><br><span class="line"></span><br><span class="line">6 [C] (infml 口) delightful person or thing 招人喜爱的人或物</span><br><span class="line">*What a love her daughter is! 她女儿多么可爱呀!</span><br><span class="line">* Isn<span class="string">&#x27;t this hat a perfect love? 这顶帽子挺可爱吧? </span></span><br><span class="line"><span class="string">7 [C] (Brit infml 口) (form of address used by a man to a woman or child (not necessarily a friend), or by a woman to a person of either sex 男人用以称呼（不一定相识的）女子或儿童; 女子用以称呼他人（男女均可）)</span></span><br><span class="line"><span class="string">*Mind your head, love! 喂, 小心你的头! </span></span><br><span class="line"><span class="string">8 [U] (in tennis) no score; nil （网球）零分</span></span><br><span class="line"><span class="string">*love all, ie neither player or pair has scored 零比零</span></span><br><span class="line"><span class="string">* The score in the game on Court One is thirty-love. </span></span><br><span class="line"><span class="string">一号球场上的比分是三十比零. </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">9 (idm 习语) be in love (with sb) feel affection and desire (for sb) 热恋着（某人）</span></span><br><span class="line"><span class="string">*They&#x27;</span>re very much <span class="keyword">in</span> love (with each other). </span><br><span class="line">他们（彼此）在热恋中.</span><br><span class="line">* I<span class="string">&#x27;m madly in love with her. </span></span><br><span class="line"><span class="string">我爱她爱得发狂. </span></span><br><span class="line"><span class="string">be in love with sth be very fond of sth 喜爱某事物</span></span><br><span class="line"><span class="string">*a city in love with its own past 热爱自身传统的城市</span></span><br><span class="line"><span class="string">* He&#x27;</span>s <span class="keyword">in</span> love with the sound of his own voice, ie talks too much. </span><br><span class="line">他就喜欢自己的声音（太爱说话）. </span><br><span class="line">cupboard love =&gt; cupboard. </span><br><span class="line">fall <span class="keyword">in</span> love (with sb) feel a sudden strong attraction <span class="keyword">for</span> sb 突然爱上某人. </span><br><span class="line">(just) <span class="keyword">for</span> `love/for the `love of sth without payment or other reward 出于爱好（不计报酬）</span><br><span class="line">*They<span class="string">&#x27;re all volunteers, doing it just for the love of the thing. </span></span><br><span class="line"><span class="string">他们都是自愿的, 完全是因为喜欢做而做的. </span></span><br><span class="line"><span class="string">for the ,love of `God, etc</span></span><br><span class="line"><span class="string">(a) (expressing surprise, dismay, etc 用以表示惊奇、惊慌等)</span></span><br><span class="line"><span class="string">*For the love of God, not another bill! 看在上帝的份上, 别再来账单了!</span></span><br><span class="line"><span class="string">(b) (used when urging sb to do sth 用于催促某人做某事物)</span></span><br><span class="line"><span class="string">*For the love of Mike let&#x27;</span>s get out of here! 看在上帝的份上, 咱们离开这鬼地方吧! ,give/,send sb one<span class="string">&#x27;s `love give/send an affectionate greeting to sb 向某人致意</span></span><br><span class="line"><span class="string">*Please give your sister my love. </span></span><br><span class="line"><span class="string">请代我向令妹致意.</span></span><br><span class="line"><span class="string">* My parents send their love. </span></span><br><span class="line"><span class="string">我父母问您好. </span></span><br><span class="line"><span class="string">a labour of love =&gt; labour1. </span></span><br><span class="line"><span class="string">the ,love of sb&#x27;</span>s `life</span><br><span class="line">(a) person<span class="string">&#x27;s most dearly loved sweetheart 最理想的爱人</span></span><br><span class="line"><span class="string">*I think I&#x27;</span>ve met the love of my life. </span><br><span class="line">我认为我已找到理想的爱人了.</span><br><span class="line">(b) person<span class="string">&#x27;s favourite possession, activity, etc 最喜爱的东西、活动等</span></span><br><span class="line"><span class="string">*Sailing is the love of his life. </span></span><br><span class="line"><span class="string">帆船运动是他最喜爱的活动. </span></span><br><span class="line"><span class="string">make love (to sb)</span></span><br><span class="line"><span class="string">(a) have sexual intercourse 做爱; 性交</span></span><br><span class="line"><span class="string">*He refused to make love before they were married. </span></span><br><span class="line"><span class="string">他决不在婚前发生性行为.</span></span><br><span class="line"><span class="string">(b) (dated 旧) behave amorously (towards sb), esp by being specially attentive （向某人）表示爱情; （尤指）献殷勤. </span></span><br><span class="line"><span class="string">not for ,love or `money not by any means 无论如何; 不管怎样</span></span><br><span class="line"><span class="string">*We couldn&#x27;</span>t find a hotel room <span class="keyword">for</span> love or money. </span><br><span class="line">我们怎么也找不到一间旅馆客房. </span><br><span class="line">there<span class="string">&#x27;s little/no `love lost between A and B they dislike each other 他们彼此厌恶</span></span><br><span class="line"><span class="string">*There&#x27;</span>s never been much love lost between her and her sister. </span><br><span class="line">她和妹妹一向互相嫌恶.</span><br><span class="line"></span><br><span class="line">/lʌv; lʌv/</span><br><span class="line">v </span><br><span class="line">1 [Tn] have a strong affection or deep tender feelings <span class="keyword">for</span> (sb/sth) 爱, 热爱（某人[某事物]）</span><br><span class="line">*love one<span class="string">&#x27;s parents, country, wife 爱父母、国家、妻子</span></span><br><span class="line"><span class="string">* love God, ie worship Him 崇拜上帝. </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2 [Tn, Tt, Tnt, Tg, Tsg] like (sb/sth) greatly; take pleasure in 喜欢（某人[某事物]）; 喜好</span></span><br><span class="line"><span class="string">*She&#x27;</span>s always loved horses. </span><br><span class="line">她一向喜爱马匹.</span><br><span class="line">* He loves his pipe, ie smoking it. </span><br><span class="line">他爱抽烟斗.</span><br><span class="line">* Children love to play/playing. </span><br><span class="line">儿童喜欢玩要.</span><br><span class="line">* `Will you come?<span class="string">&#x27; `I&#x27;</span>d love to!<span class="string">&#x27; ｀你来吗?＇｀我很乐意!＇</span></span><br><span class="line"><span class="string">* We&#x27;</span>d love you to come to dinner. </span><br><span class="line">我们很愿意请你来吃饭.</span><br><span class="line">* I love him reading to me <span class="keyword">in</span> bed. </span><br><span class="line">我喜欢在床上听他给我读点什么. </span><br><span class="line"></span><br><span class="line">3 (idm 习语) ,love `me, ,love my `dog (saying 谚) <span class="keyword">if</span> one loves sb, one will or should love everyone and everything associated with him 爱吾及犬; 爱屋及乌.</span><br><span class="line"></span><br><span class="line">--&gt;CET4</span><br><span class="line">--&gt;love</span><br><span class="line"></span><br><span class="line">[lʌv]</span><br><span class="line">n. 爱,恋爱,爱情</span><br><span class="line">vt. 爱,热爱,喜欢</span><br><span class="line">词形变化:</span><br><span class="line">动词过去式:loved 过去分词:loved 现在分词:loving 第三人称单数:loves </span><br><span class="line">例句与用法:</span><br><span class="line">I think I<span class="string">&#x27;ve met the love of my life. </span></span><br><span class="line"><span class="string">我认为我已找到理想的爱人了。</span></span><br><span class="line"><span class="string">I love my motherland. </span></span><br><span class="line"><span class="string">我爱我的祖国。</span></span><br><span class="line"><span class="string">Her love for him never waved. </span></span><br><span class="line"><span class="string">她对他的爱从未动摇过。</span></span><br></pre></td></tr></table></figure></div></details><p>或者 <code>sdcv</code> 进行连续查词。</p><p><code>man sdcv</code> 查看使用手册。</p><p>从此，在终端看到不认识的单词，就不必再打开浏览器了 🤣</p><h3 id="添加热键">添加热键</h3><p>Deepin 的快捷键可以帮助我们快速启动一些命令。</p><p>控制中心 =&gt; 键盘和语言 =&gt; 快捷键 =&gt; 底部加号新建：</p><p>名称、快捷键随意，命令 <code>sdcv</code> 。</p><hr /><p>手机上也可以使用 Termux 进行安装：</p><details ><summary>点击展开</summary><div class="fold-content"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ apt install sdcv</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  sdcv</span><br><span class="line">0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.</span><br><span class="line">Need to get 54.2 kB of archives.</span><br><span class="line">After this operation, 197 kB of additional disk space will be used.</span><br></pre></td></tr></table></figure><p>存储空间占用非常小，启动速度超快 👍</p><p>怎么想都比那些翻译机划算。</p></div></details><hr /><h3 id="其它翻译工具推荐">其它翻译工具推荐</h3><p>考虑了一下，干脆再装两个需要联网使用的终端词典，查句子还得靠它们。</p><h4 id="fanyi"><a href="https://github.com/afc163/fanyi">fanyi</a></h4><p>使用 <a href="http://iciba.com/">金山</a> 和 <a href="http://fanyi.youdao.com/">有道</a> 的 api 。</p><p><strong>安装：</strong></p><p><code>sudo apt-get install festival festvox-kallpc16k</code></p><p><code>npm install fanyi -g</code></p><p><strong>使用：</strong><br /><code>fy &lt;字、词、句、段&gt;</code></p><details ><summary>点击展开</summary><div class="fold-content"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ fy love            </span><br><span class="line"> love [ lʌv ]</span><br><span class="line"></span><br><span class="line"> - n. 爱；爱情；喜好；（昵称）亲爱的；爱你的；心爱的人；钟爱之物；零分</span><br><span class="line"> - v. 爱恋（某人）；关爱；喜欢（某物或某事）；忠于</span><br><span class="line"> - n. (Love) （英、菲、瑞、美）洛夫（人名）</span><br><span class="line"></span><br><span class="line"> 1. love</span><br><span class="line">    爱, 爱情, 爱心, 恋爱</span><br><span class="line"> 2. First love</span><br><span class="line">    初恋, 初恋这件小事, 魔女的条件主题曲</span><br><span class="line"> 3. love Letter</span><br><span class="line">    情书, 日本版, 爱的情书, 爱情信</span><br></pre></td></tr></table></figure></div></details><h4 id="translate-shell"><a href="https://github.com/soimort/translate-shell">translate-shell</a></h4><p>默认使用谷歌翻译，还支持 Bing 、Yandex 、Apertium。</p><p><strong>获取源码编译安装：</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> 合适的目录</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/soimort/translate-shell</span><br><span class="line"><span class="built_in">cd</span> translate-shell/</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><p><strong>使用示范：</strong></p><ul><li><p>英译中<br /><code>trans en:zh ccp</code> 或者 <code>trans love</code> <em>（顺便鄙视一下谷歌翻译，查不出用法更妥当的 cpc ）</em></p></li><li><p>中译英<br /><code>trans zh:en 大丈夫</code> 或者省略 zh <code>trans :en 一见杨过误终生</code> <em>（<code>trans 大丈夫</code> 会被当做日语）</em></p></li><li><p>听读音<br />加上 <code>-p</code> 听译文读音<br />加上 <code>-sp</code> 听输入的单词读音<br />在后台可以看见它调用的是 mpv ，获取 Google TTS。<br /><code>mpv --no-config http://translate.googleapis.com/translate_tts?ie=UTF-8&amp;client=gtx&amp;tl=zh-CN&amp;q=苟利国家生死以，岂因祸福避趋之。</code><br />（我们 mpv 真是太厉害啦！）</p></li></ul><p>有空格的句子需要用 <code>''</code> 或者 <code>&quot;&quot;</code> 包起来。</p><p><a href="https://github.com/soimort/translate-shell#getting-started-by-examples">详细用法</a></p><p>顺便加个 <code>alias ggfy='trans :en'</code> 进 <code>.zshrc</code>。</p><hr /><p>补充：Foliate（电子书阅读器）可以调用 sdcv 的本地词典。</p><iframe src="https://loafing.cn/Donate/simple/" style="overflow-x:hidden;overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;sdcv = stardict console version ，即终端下的 stardict 词典&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;mark&gt;支持导入本地词典！&lt;/mark&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="教程" scheme="https://loafing.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="知识传递计划" scheme="https://loafing.cn/tags/%E7%9F%A5%E8%AF%86%E4%BC%A0%E9%80%92%E8%AE%A1%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>「养老」重装 Deepin OS + 优化记录（备忘手册）</title>
    <link href="https://loafing.cn/posts/Hello-Deepin-my-old-friend.html"/>
    <id>https://loafing.cn/posts/Hello-Deepin-my-old-friend.html</id>
    <published>2021-02-10T05:08:44.000Z</published>
    <updated>2021-05-04T13:11:44.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>惠普 735g5 ，从 Windows 到 Ubuntu、Deepin、Manjaro 再到 Arch Linux，最终还是回归 Deepin OS 的怀抱，期待它越来越好用。</p><p>养老了（确信）</p><span id="more"></span><h3 id="最新补充">最新补充</h3><h4 id="升级内核后没声音">升级内核后没声音</h4><p>使用上一个版本的内核开机，音乐外放正常。</p><p>索性锁定 Linux 内核版本，没啥必要不更新了。</p><p>筛选查看已安装的内核 <code>dpkg --get-selections|grep linux</code></p><p>卸载有问题的新内核：</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sudo</span> apt remove linux-image-<span class="number">5</span>.<span class="number">12</span>.<span class="number">18</span>-amd64-desktop</span><br><span class="line"><span class="attribute">sudo</span> apt remove linux-headers-<span class="number">5</span>.<span class="number">12</span>.<span class="number">18</span>-amd64-desktop</span><br></pre></td></tr></table></figure><p><strong>锁定正常使用的旧版内核，防止被更新：</strong></p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sudo</span> apt-mark hold linux-headers-<span class="number">5</span>.<span class="number">12</span>.<span class="number">14</span>-amd64-desktop linux-image-<span class="number">5</span>.<span class="number">12</span>.<span class="number">14</span>-amd64-desktop</span><br></pre></td></tr></table></figure><p>如需检查标记为保留（锁定）的包：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="selector-tag">mark</span> showhold</span><br></pre></td></tr></table></figure><p>要解除锁定可以使用如下命令：</p><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">sudo apt-mark unhold <span class="keyword">PACKAGE</span></span><br></pre></td></tr></table></figure><p>参考：<a href="https://www.sysgeek.cn/ubuntu-lock-package-version/">https://www.sysgeek.cn/ubuntu-lock-package-version/</a></p><h4 id="升级系统时某些软件不更新">升级系统时某些软件不更新</h4><p>例如：</p><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt upgrade -y</span><br><span class="line">……</span><br><span class="line">正在读取软件包列表<span class="string">...</span> 完成</span><br><span class="line">正在分析软件包的依赖关系树       </span><br><span class="line">正在读取状态信息<span class="string">...</span> 完成       </span><br><span class="line">有 1 个软件包可以升级。请执行 ‘apt list <span class="params">--upgradable</span>’ 来查看它们。</span><br><span class="line">正在读取软件包列表<span class="string">...</span> 完成</span><br><span class="line">正在分析软件包的依赖关系树       </span><br><span class="line">正在读取状态信息<span class="string">...</span> 完成       </span><br><span class="line">正在计算更新<span class="string">...</span> 完成</span><br><span class="line">下列软件包的版本将保持不变：</span><br><span class="line">  dde-session-shell</span><br><span class="line">升级了 0 个软件包，新安装了 0 个软件包，要卸载 0 个软件包，有 1 个软件包未被升级。</span><br></pre></td></tr></table></figure><p>可以尝试 <code>sudo apt-get dist-upgrade</code></p><figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">sudo apt-get dist-upgrade </span><br><span class="line">正在读取软件包列表... 完成</span><br><span class="line">正在分析软件包的依赖关系树       </span><br><span class="line">正在读取状态信息... 完成       </span><br><span class="line">正在计算更新... 完成</span><br><span class="line">下列软件包将被【卸载】：</span><br><span class="line">  dde-preload</span><br><span class="line">下列软件包将被升级：</span><br><span class="line">  dde-session-shell</span><br><span class="line">升级了<span class="number"> 1 </span>个软件包，新安装了<span class="number"> 0 </span>个软件包，要卸载<span class="number"> 1 </span>个软件包，有<span class="number"> 0 </span>个软件包未被升级。</span><br><span class="line">需要下载<span class="number"> 728 </span>kB 的归档。</span><br><span class="line">解压缩后将会空出 2,005 kB 的空间。</span><br><span class="line">您希望继续执行吗？ [Y/n] y</span><br></pre></td></tr></table></figure><p>参考：<a href="https://forum.ubuntu.com.cn/viewtopic.php?t=486028">https://forum.ubuntu.com.cn/viewtopic.php?t=486028</a></p><h4 id="坚果云重复提示更新">坚果云重复提示更新</h4><p>重启后总是提示正在更新……反反复复大半个月，尝试给坚果云客服发邮件，很快得到邮件反馈（好评👍），建议从源码编译安装，而不是 <code>apt install jianguoyun.com</code> ，问题解决。</p><h4 id="zip-解压文件名带中文的文件乱码">zip 解压文件名带中文的文件乱码</h4><p>由于坚果云流量有限而其它网盘不好用，我只得时不时把手机上的音乐备份至 U 盘，需要时再复制到电脑，为减少碎片文件，加快传输速度，将几百个 .lrc 歌词文件压缩后再备份。</p><p>今天碰到个问题，带中文的歌词文件解压后乱码，无法使用。</p><p>这属于常见问题，解决方案不少，有的看起来还挺麻烦。</p><p>幸好有个简单省力的 unar 命令，参考：<a href="https://www.zhihu.com/question/20523036/answer/95225210">Linux 下 zip 文件解压乱码如何解决？ - Find Hao的回答 - 知乎</a></p><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">unar Lyric歌词<span class="string">.zip</span></span><br></pre></td></tr></table></figure><p><em><strong>注意不是 unrar 。</strong></em></p><h4 id="20-1-升级至-20-2-翻车">20.1 升级至 20.2 翻车</h4><p>愚人节更新后论坛直接炸翻天，一堆进不去桌面环境的，半天后勉强解决。</p><p>苦等半个月，还是一堆 bug 没能修复，备份重装走起。</p><p>这次不敢只用一个 / 分区了，还是把 / 和 /home 分成两个区比较安全，万一不幸又升级坏了，只要覆盖 / 分区进行全新安装应该就好。平时到处搜刮的软件和其它媒体文件都放 /home ，重装之后不必到处重新找（还可能找不到），费时费力。</p><p>重要文件依然建议实时云备份，不嫌麻烦的还可以定时多处备份。</p><blockquote><p><em>You can never be too careful.</em></p></blockquote><p>跑路是不可能跑路的，给 Deepin 多一点包容，期待它成为下一个 MIUI 。</p><h4 id="给自己杂乱的磁盘分区添加卷标">给自己杂乱的磁盘分区添加卷标</h4><p>查看分区信息</p><figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">lsblk</span><br><span class="line">sudo blkid -c <span class="regexp">/dev/</span><span class="keyword">null</span></span><br></pre></td></tr></table></figure><p><strong><mark>以下分区路径和挂载点仅供参考，不可盲目操作！！！</mark></strong></p><ul><li>给 NTFS 分区打上 Windows10 标签<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo ntfslabel -f <span class="regexp">/dev/</span>nvme0n1p3 <span class="string">&#x27;Windows10&#x27;</span></span><br></pre></td></tr></table></figure><code>/dev/nvme0n1p3</code> 是该分区所在路径，<code>-f</code> 是强制的意思，方便对已挂载的分区进行操作。</li><li>给 BTRFS 分区打上 Arch 标签<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sudo</span> btrfs filesystem label /media/username/b3c6aa7f-<span class="number">23</span>a6-<span class="number">47</span>de-<span class="number">978</span>d-<span class="number">285</span>f622a8e34 &#x27;Arch&#x27;</span><br></pre></td></tr></table></figure><code>/media/username/b3c6aa7f-23a6-47de-978d-285f622a8e34</code> 是目标分区的挂载点。</li><li>给 swap 分区打上 SWAP 标签<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo swaplabel -L ‘SWAP’ <span class="regexp">/dev/</span>nvme0n1p5</span><br></pre></td></tr></table></figure><em>显示 <code>swaplabel: /dev/nvme0n1p5: failed to write label: 文本文件忙</code> ，问题不大，等下次刚开机， swap 分区还没被使用的时候再操作。</em></li><li>给 ext4 分区打上 Deepin 标签<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo e2label <span class="regexp">/dev/</span>nvme0n1p4 <span class="string">&#x27;Deepin&#x27;</span></span><br></pre></td></tr></table></figure></li></ul><p>重新 <code>sudo blkid -c /dev/null</code> 即可看见新增的 <code>LABEL=&quot;xxx&quot;</code></p><h4 id="关机、注销被阻止">关机、注销被阻止</h4><p>关机提示：</p><blockquote><p><em>Unattended Upgrades Shutdown－Stop ongoing upgrades or perform upgrades before shutdown，以上程序阻止关机，强制关机可能会导致其数据丢失，您可以点击“取消”然后关闭这些程序。</em></p></blockquote><figure class="highlight fortran"><table><tr><td class="code"><pre><span class="line">sudo service unattended-upgrades <span class="keyword">status</span></span><br><span class="line">sudo service unattended-upgrades <span class="keyword">stop</span></span><br></pre></td></tr></table></figure><p>似乎还是不行？</p><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>cat /etc/apt/apt.conf.d/20auto-upgrades</span><br><span class="line"><span class="variable constant_">APT</span><span class="symbol">:</span><span class="symbol">:Periodic</span><span class="symbol">:</span><span class="symbol">:Update-Package-Lists</span> <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="variable constant_">APT</span><span class="symbol">:</span><span class="symbol">:Periodic</span><span class="symbol">:</span><span class="symbol">:Unattended-Upgrade</span> <span class="string">&quot;1&quot;</span>;</span><br></pre></td></tr></table></figure><p>那就把第二个 1 改为 0 ，关闭自动更新。</p><h4 id="升级最新-adb-工具包">升级最新 adb 工具包</h4><p><em>Deepin 的软件源更新速度有点感人，<code>apt install</code> 安装的还是半年前的版本。</em></p><p>查看当前 adb 版本及所在目录：</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">$ adb <span class="keyword">version</span></span><br><span class="line">Android <span class="keyword">Debug</span> Bridge <span class="keyword">version</span> <span class="number">1.0</span><span class="number">.39</span></span><br><span class="line"><span class="keyword">Version</span> <span class="number">1</span>:<span class="number">8.1</span><span class="number">.1</span><span class="number">-1</span>+r23<span class="number">-5.4</span><span class="number">-1</span>+eagle</span><br><span class="line">Installed <span class="keyword">as</span> /usr/lib/android-sdk/platform-tools/adb</span><br></pre></td></tr></table></figure><p>备份当前 adb 工具包：</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo mv <span class="regexp">/usr/</span>lib<span class="regexp">/android-sdk/</span>platform-tools<span class="regexp">/ /u</span>sr<span class="regexp">/lib/</span>android-sdk<span class="regexp">/platform-tools.bak/</span></span><br></pre></td></tr></table></figure><p>下载最新 adb 包解压、测试：</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cd ~/Downloads</span><br><span class="line">wget https:<span class="regexp">//</span>dl.google.com<span class="regexp">/android/</span>repository/platform-tools-latest-linux.zip</span><br><span class="line">unzip platform-tools-latest-linux.zip</span><br><span class="line">rm platform-tools-latest-linux.zip</span><br><span class="line">cd platform-tools/</span><br><span class="line">./adb version <span class="comment"># 确认可用</span></span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">sudo cp -r platform-tools<span class="regexp">/ /u</span>sr<span class="regexp">/lib/</span>android-sdk<span class="regexp">/platform-tools/</span></span><br></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">$ adb <span class="keyword">version</span></span><br><span class="line">Android <span class="keyword">Debug</span> Bridge <span class="keyword">version</span> <span class="number">1.0</span><span class="number">.41</span></span><br><span class="line"><span class="keyword">Version</span> <span class="number">31.0</span><span class="number">.1</span><span class="number">-7187441</span></span><br><span class="line">Installed <span class="keyword">as</span> /usr/lib/android-sdk/platform-tools/adb</span><br></pre></td></tr></table></figure><p>升级完毕，该删的都可以删了。</p><h4 id="pip-升级所有包">pip 升级所有包</h4><p>参考 <a href="https://blog.csdn.net/kl28978113/article/details/77980778">Python 使用 pip 升级所有包</a></p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">pip list</span><br><span class="line">pip list <span class="comment">--outdate</span></span><br><span class="line">pip <span class="keyword">freeze</span> <span class="comment">--local | grep -v &#x27;^-e&#x27; | cut -d = -f 1  | xargs -n1 pip install -U</span></span><br></pre></td></tr></table></figure><h4 id="隐藏-snapd-安装软件后多出的磁盘分区">隐藏 snapd 安装软件后多出的磁盘分区</h4><figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">$ lsblk -f</span><br><span class="line">NAME        FSTYPE   LABEL         UUID                                 FSAVAIL FSUSE% MOUNTPOINT</span><br><span class="line">loop0       squashfs                                                          <span class="number">0</span>   <span class="number">100</span>% <span class="regexp">/snap/</span>core20/<span class="number">904</span></span><br><span class="line">loop1       squashfs                                                          <span class="number">0</span>   <span class="number">100</span>% <span class="regexp">/snap/</span>bombsquad/<span class="number">5</span></span><br><span class="line">……</span><br></pre></td></tr></table></figure><p>不难发现 snapd 安装软件后，生成的分区都是 loop0、loop1 这样的命名方式。</p><p>新建一条隐藏规则：</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">$ sudo micro <span class="regexp">/etc/u</span>dev<span class="regexp">/rules.d/</span><span class="number">90</span>-hide_parts.rules</span><br><span class="line">KERNEL==<span class="string">&quot;loop*&quot;</span>,ENV&#123;UDISKS_IGNORE&#125;=<span class="string">&quot;1&quot;</span></span><br></pre></td></tr></table></figure><p>重启，文管里面就不会再显示烦人的一大堆分区了。</p><h4 id="lazygit"><a href="https://github.com/jesseduffield/lazygit">lazygit</a></h4><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cd ~<span class="regexp">/.local/</span>bin</span><br><span class="line">wget https:<span class="regexp">//gi</span>thub.com<span class="regexp">/jesseduffield/</span>lazygit<span class="regexp">/releases/</span>download<span class="regexp">/v0.26.1/</span>lazygit_0.<span class="number">26.1</span>_Linux_x86_64.tar.gz</span><br><span class="line">tar xvf lazygit_0.<span class="number">26.1</span>_Linux_x86_64.tar.gz</span><br><span class="line">rm lazygit_0.<span class="number">26.1</span>_Linux_x86_64.tar.gz LICENCE README.md</span><br><span class="line">lazygit --help</span><br></pre></td></tr></table></figure><p>以后进入自己的博客目录，运行 <code>lazygit</code> 就能很方便地追踪文件变动。</p><h4 id="安装-Docker">安装 Docker</h4><p><strong>安装：</strong></p><p><a href="https://developer.aliyun.com/article/110806">使用官方安装脚本自动安装 （仅适用于公网环境）</a></p><figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">curl -fsSL <span class="keyword">https</span>://<span class="built_in">get</span>.docker.com | bash -s docker <span class="comment">--mirror Aliyun</span></span><br></pre></td></tr></table></figure><p>安装成功后除显示版本信息外（今后可以使用 <code>sudo docker version</code> 进行查看），还有下列提示：</p><figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">If you would like <span class="built_in">to</span> use Docker <span class="keyword">as</span> <span class="keyword">a</span> non-root user, you should now consider</span><br><span class="line">adding your user <span class="built_in">to</span> <span class="keyword">the</span> <span class="string">&quot;docker&quot;</span> group <span class="keyword">with</span> something like:</span><br><span class="line"></span><br><span class="line">  sudo usermod -aG docker &lt;用户名&gt;</span><br><span class="line"></span><br><span class="line">Remember that you will have <span class="built_in">to</span> <span class="built_in">log</span> out <span class="keyword">and</span> back <span class="keyword">in</span> <span class="keyword">for</span> this <span class="built_in">to</span> take effect!</span><br><span class="line"></span><br><span class="line">WARNING: Adding <span class="keyword">a</span> user <span class="built_in">to</span> <span class="keyword">the</span> <span class="string">&quot;docker&quot;</span> group will grant <span class="keyword">the</span> ability <span class="built_in">to</span> run</span><br><span class="line">         containers which can be used <span class="built_in">to</span> obtain root privileges <span class="keyword">on</span> <span class="title">the</span></span><br><span class="line">         docker host.</span><br><span class="line">         Refer <span class="built_in">to</span> <span class="keyword">https</span>://docs.docker.com/engine/security/security/<span class="comment">#docker-daemon-attack-surface</span></span><br><span class="line">         <span class="keyword">for</span> more information.</span><br></pre></td></tr></table></figure><p>那就乖乖 <code>sudo usermod -aG docker &lt;用户名&gt;</code></p><p><code>sudo docker run hello-world</code> 测试能否正常运行 docker。</p><p><strong>docker-compose：</strong></p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/1.28.6/docker-compose-$(uname -s)-$(uname -m)&quot;</span> -o <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>docker-compose | bash</span><br><span class="line">sudo chmod +x <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>docker-compose</span><br><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure><p><strong>国内镜像加速：</strong></p><p><a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors">申请阿里云镜像加速</a></p><blockquote><p><em>您可以通过修改daemon配置文件/etc/docker/daemon.json来使用加速器</em></p></blockquote><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p <span class="regexp">/etc/</span>docker</span><br><span class="line">sudo tee <span class="regexp">/etc/</span>docker/daemon.json &lt;&lt;-<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://abcdefgh.mirror.aliyuncs.com&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br><span class="line">cat <span class="regexp">/etc/</span>docker/daemon.json</span><br></pre></td></tr></table></figure><p><strong>管理面板工具</strong></p><p><a href="https://github.com/jesseduffield/lazydocker">lazydocker</a> 看起来不错，和 gotop 界面风格类似。</p><p>作者给出了一键安装脚本：</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">curl https:<span class="regexp">//</span>raw.githubusercontent.com<span class="regexp">/jesseduffield/</span>lazydocker<span class="regexp">/master/</span>scripts/install_update_linux.sh | bash</span><br></pre></td></tr></table></figure><p>lazydocker 的二进制文件默认放进 <code>/usr/local/bin</code></p><p>如果网络状况不太好，在终端下载不动，也可以前往它的 release 页手动下载编译好的对应架构的压缩包，解压后将可执行文件丢进 <code>~/.local/bin</code> 或者其它自己喜欢的文件夹。</p><h4 id="在-fish-下使用-autojump">在 fish 下使用 autojump</h4><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">sudo apt install <span class="built_in">auto</span>jump</span><br><span class="line">omf install <span class="built_in">auto</span>jump</span><br></pre></td></tr></table></figure><p><code>autojump d</code> 报错：</p><p><code>Please source the correct autojump file in your shell's startup file. For more information, please reinstall autojump and read the post installation instructions.</code></p><p>Deepin 的文件管理器会时不时自动新建文件索引以加快搜索速度，所以直接在文管里面 Ctrl + F 搜索 autojump 就好，find 命令太慢了。</p><p>找到之后 source 一下看看：</p><figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line"><span class="keyword">source</span> <span class="regexp">/usr/</span>share<span class="regexp">/autojump/</span>autojump.fish</span><br></pre></td></tr></table></figure><p><em>顺便附一个错误示范：</em></p><details ><summary>点击展开</summary><div class="fold-content"><figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">source</span> <span class="regexp">/usr/</span>share<span class="regexp">/autojump/</span>autojump.sh</span><br><span class="line"><span class="regexp">/usr/</span>share<span class="regexp">/autojump/</span>autojump.sh (line <span class="number">16</span>): Missing end to balance <span class="keyword">this</span> <span class="keyword">if</span> statement                                   <span class="keyword">if</span> [ <span class="string">&quot;$&#123;shell&#125;&quot;</span> = <span class="string">&quot;sh&quot;</span> ]; then</span><br><span class="line">^</span><br><span class="line"><span class="keyword">from</span> sourcing <span class="keyword">file</span> <span class="regexp">/usr/</span>share<span class="regexp">/autojump/</span>autojump.sh                 called on standard input</span><br><span class="line"></span><br><span class="line"><span class="keyword">source</span>：读取文件 “<span class="regexp">/usr/</span>share<span class="regexp">/autojump/</span>autojump.sh” 时发生错误</span><br></pre></td></tr></table></figure></div></details><p>这下可以正常使用 <code>autojump 目录</code> 或者 <code>j 目录</code> 了。</p><p>最后 <code>micro ~/.config/fish/config.fish</code></p><p>加一条 <code>source /usr/share/autojump/autojump.fish</code> 进去即可。</p><h4 id="更新-wine-版-TIM、微信">更新 wine 版 TIM、微信</h4><p><em>直接在软件内更新失败。</em></p><p>前往腾讯官网下载 Windows 版本的安装包（ xxx.exe ）。</p><p><code>cd ~/Downloads</code> 进入下载文件夹，运行类似下面的命令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">env</span> WINEPREFIX=<span class="string">&quot;<span class="variable">$HOME</span>/.deepinwine/Spark-TIM/&quot;</span> deepin-wine5 TIM3.3.5.22018.exe</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">env</span> WINEPREFIX=<span class="string">&quot;<span class="variable">$HOME</span>/.deepinwine/Deepin-WeChat/&quot;</span> deepin-wine5 WeChatSetup.exe</span><br></pre></td></tr></table></figure><p><strong>文件夹和安装包建议使用 Tab 键补全。</strong></p><h4 id="alias-rm-trash-put-防止手贱">alias rm='trash-put' 防止手贱</h4><blockquote><p><em>删库之后没有跑路，只有泪目。</em></p></blockquote><p>官方文档见这篇 <a href="https://github.com/andreafrancia/trash-cli/blob/master/README_zh-CN.rst">trash-cli —— 回收站的命令行界面</a></p><p><code>sudo apt install trash-cli</code></p><figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">trash-<span class="built_in">put</span>           把文件或目录移动到回收站</span><br><span class="line">trash-<span class="literal">empty</span>         清空回收站</span><br><span class="line">trash-list          列出回收站文件</span><br><span class="line">trash-restore       恢复回收站文件</span><br><span class="line">trash-rm            删除回收站文件</span><br></pre></td></tr></table></figure><p>从 home 分区移动到回收站的文件在 <code>~/.local/share/Trash/</code> ，基本兼容深度文件管理器的回收站 <s>，但使用后者 delete 的文件，不能用前者的命令还原（无伤大雅）</s>。</p><p>将 <code>alias rm='trash-put'</code> 添进 <code>~/.zshrc</code>，rm 命令真的很危险，即便不加 sudo 。</p><p>如果偶尔确实有 <code>rm</code> 的需要，使用 <code>\rm</code> 即可取消别名。</p><p><strong>最好还是多做几手备份准备，咸鱼上捡个成色不错的硬盘也不贵，机械盘就挺好，使用 timewhift 等工具进行快照式增量备份。</strong></p><p><strong><mark>内存有价，数据无价！</mark></strong></p><h4 id="XDG-user-directories"><a href="https://wiki.archlinux.org/index.php/XDG_user_directories_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">XDG user directories</a></h4><p>解决文件管理器左侧 <code>下载 </code> ≠ <code>~/Download</code> 的情况。</p><h4 id="Xdroid-无法启动安卓应用">Xdroid 无法启动安卓应用</h4><p>原本正常使用，但某次系统更新之后，Xdroid 只能打开程序启动界面，无法启动任何安卓应用，连报错信息都不显示。</p><p><strong>解决：</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dkms uninstall deepin-anything/0.0</span><br></pre></td></tr></table></figure><p>重启电脑再打开 Xdroid，恢复如初。。</p><details ><summary>详细展开</summary><div class="fold-content"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">❯ sudo dkms uninstall deepin-anything/0.0</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">-------- Uninstall Beginning --------</span><br><span class="line"></span><br><span class="line">Module:  deepin-anything</span><br><span class="line"></span><br><span class="line">Version: 0.0</span><br><span class="line"></span><br><span class="line">Kernel:  5.10.5-amd64-desktop+ (x86_64)</span><br><span class="line"></span><br><span class="line">-------------------------------------</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Status: Before uninstall, this module version was ACTIVE on this kernel.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">vfs_monitor.ko:</span><br><span class="line"></span><br><span class="line"> - Uninstallation</span><br><span class="line"></span><br><span class="line">   - Deleting from: /lib/modules/5.10.5-amd64-desktop+/updates//</span><br><span class="line"></span><br><span class="line"><span class="built_in">rmdir</span>: 删除 <span class="string">&#x27;updates/&#x27;</span> 失败: 目录非空</span><br><span class="line"></span><br><span class="line"> - Original module</span><br><span class="line"></span><br><span class="line">   - No original module was found <span class="keyword">for</span> this module on this kernel.</span><br><span class="line"></span><br><span class="line">   - Use the dkms install <span class="built_in">command</span> to reinstall any previous module version.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">depmod...</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">DKMS: uninstall completed.</span><br></pre></td></tr></table></figure></div></details><h4 id="VirtualBox-报错-1908">VirtualBox 报错 1908</h4><p>冒冒失失地更新了 5.11 内核，结果 VirtualBox 无法启动虚拟机。</p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/02/1614132530079.webp" alt="IMG_20210224_100840" /></p><p><strong>Deepin 回退内核版本：</strong></p><p>重启，在启动菜单里面选择高级选项，可以看到已安装的所有内核。</p><p>选用旧内核启动，运行 VirtualBox，确认正常使用，然后卸载新内核。</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">dpkg</span> --get-selections|grep linux #查看已安装内核</span><br><span class="line"><span class="attribute">sudo</span> apt-get purge linux-headers-<span class="number">5</span>.<span class="number">11</span>.<span class="number">0</span>-xanmod1</span><br><span class="line"><span class="attribute">sudo</span> apt-get purge linux-image-<span class="number">5</span>.<span class="number">11</span>.<span class="number">0</span>-xanmod1</span><br></pre></td></tr></table></figure><p><em>可不敢乱升级了。</em></p><hr /><p>看英文搜索结果找到这条</p><blockquote><p><em><a href="https://www.virtualbox.org/ticket/20193">I fixed this bug by simply adding <code>#include &lt;linux/ethtool.h&gt;</code> to VirtualBox/src/vboxhost/vboxnetflt/linux/VBoxNetFlt-linux.c in VBox v6.1.18 installation.</a></em></p></blockquote><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo micro <span class="regexp">/usr/</span>share<span class="regexp">/virtualbox/</span>src<span class="regexp">/vboxhost/</span>vboxnetflt<span class="regexp">/linux/</span>VBoxNetFlt-linux.c</span><br></pre></td></tr></table></figure><p>在 40 行左右加上 <code>#include &lt;linux/ethtool.h&gt;</code></p><p>最后运行</p><figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">$ sudo /sbin/vboxconfig</span><br><span class="line"><span class="symbol">vboxdrv.sh:</span> Stopping VirtualBox services.</span><br><span class="line"><span class="symbol">vboxdrv.sh:</span> Starting VirtualBox services.</span><br><span class="line"><span class="symbol">vboxdrv.sh:</span> Building VirtualBox kernel modules.</span><br></pre></td></tr></table></figure><p>再打开 vbox 运行虚拟机系统试试，它已经能在 5.11 内核正常工作了。（不明白它的更新为什么如此不智能）</p><h4 id="CPU-调度快速切换">CPU 调度快速切换</h4><p><em>Deepin 系统控制中心自带的性能模式切换似乎看不见效果。</em></p><p>偶尔有不插电的情况，给 CPU 适当降频以提升续航能力。</p><p>使用这个 <a href="https://bbs.deepin.org/zh/post/193489">CPU频率调节器（CPUPowerGUI）可以减少笔记本发热、延长电池使用...</a>，查看自己电脑 CPU 支持哪些调度。</p><p>再参考这篇 <a href="https://www.cnblogs.com/hellokitty2/p/13873874.html">CPU governor调节器汇总</a> 对几个名称稍作了解。</p><p>查看当前 CPU 调度</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cat <span class="regexp">/sys/</span>devices<span class="regexp">/system/</span>cpu<span class="regexp">/cpu*/</span>cpufreq/scaling_governor</span><br></pre></td></tr></table></figure><p>我这里默认输出 8 个 performance。</p><p>变更为 powersave</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">echo powersave | sudo tee <span class="regexp">/sys/</span>devices<span class="regexp">/system/</span>cpu<span class="regexp">/cpu*/</span>cpufreq/scaling_governor</span><br></pre></td></tr></table></figure><p>重新查看当前 CPU 调度</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cat <span class="regexp">/sys/</span>devices<span class="regexp">/system/</span>cpu<span class="regexp">/cpu*/</span>cpufreq/scaling_governor</span><br></pre></td></tr></table></figure><p>改回 performance</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">echo performance | sudo tee <span class="regexp">/sys/</span>devices<span class="regexp">/system/</span>cpu<span class="regexp">/cpu*/</span>cpufreq/scaling_governor</span><br></pre></td></tr></table></figure><p>以此类推。</p><p>为方便以后切换，将以下内容添进 <code>~/.zshrc</code></p><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alias</span> cpu-powersave=&#x27;<span class="keyword">echo</span> powersave | sudo tee <span class="string">/sys/devices/system/cpu/cpu</span>*<span class="string">/cpufreq/scaling_governor</span>&#x27;</span><br><span class="line"><span class="keyword">alias</span> cpu-performance=&#x27;<span class="keyword">echo</span> performance | sudo tee <span class="string">/sys/devices/system/cpu/cpu</span>*<span class="string">/cpufreq/scaling_governor</span>&#x27;</span><br></pre></td></tr></table></figure><p>以后随时用 <code>cpu-powersave</code> 和 <code>cpu-performance</code> 进行切换。</p><p>顺便记一条踩坑</p><figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line"> π ~ ❯ sudo echo battery &gt; <span class="regexp">/sys/</span><span class="keyword">class</span><span class="regexp">/drm/</span>card0<span class="regexp">/device/</span>power_dpm_state</span><br><span class="line">zsh: 权限不够: <span class="regexp">/sys/</span><span class="keyword">class</span><span class="regexp">/drm/</span>card0<span class="regexp">/device/</span>power_dpm_state</span><br></pre></td></tr></table></figure><p>正确用法同上。但奇怪的是，即使手动改成 battery 模式，它也会自动恢复成 performance 模式。</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"> π ~ ❯ cat /sys/<span class="keyword">class</span>/<span class="symbol">drm</span>/<span class="symbol">card0</span>/<span class="symbol">device</span>/<span class="symbol">power_dpm_state</span>                                                     </span><br><span class="line"><span class="symbol">performance</span></span><br><span class="line"> π ~ ❯ <span class="symbol">echo</span> <span class="symbol">battery</span> | <span class="symbol">sudo</span> <span class="symbol">tee</span> /<span class="symbol">sys</span>/<span class="symbol">class</span>/<span class="symbol">drm</span>/<span class="symbol">card0</span>/<span class="symbol">device</span>/<span class="symbol">power_dpm_state</span></span><br><span class="line"><span class="symbol">battery</span></span><br><span class="line"> π ~ ❯ <span class="symbol">cat</span> /<span class="symbol">sys</span>/<span class="symbol">class</span>/<span class="symbol">drm</span>/<span class="symbol">card0</span>/<span class="symbol">device</span>/<span class="symbol">power_dpm_state</span>                    </span><br><span class="line"><span class="symbol">performance</span></span><br></pre></td></tr></table></figure><p><em>或许是 Deepin 的 bug 😢</em></p><p>TLP</p><p><code>sudo apt install tlp</code></p><p><code>sudo deepin-editor /etc/default/tlp</code> 调整电源配置</p><p>有空琢磨一下怎么让风扇不那么吵。</p><h4 id="添加人脸识别解锁-howdy"><a href="https://github.com/boltgolt/howdy/releases">添加人脸识别解锁 howdy</a></h4><p>“我才不要输密码！”</p><blockquote><p><em>让你的 Linux 桌面发行版也能拥有近似 Windows Hello 的体验。</em></p></blockquote><p><a href="https://github.com/boltgolt/howdy/releases">下载 deb 包</a></p><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> ~<span class="string">/Downloads</span></span><br><span class="line">sudo dpkg -i *howdy*deb</span><br></pre></td></tr></table></figure><p>不出意外的话会碰到依赖问题，<strong>保证网络通畅</strong> ，满足它。</p><p>安装过程中有三种模式可选：Fast、Balanced、Secure。</p><p>做人还是中庸一点。</p><p>安装好之后不能急着用，要不然妥妥滴报错。</p><p><strong><mark>需要预先手动指定摄像头设备</mark></strong></p><ol><li><p>安装 v4l-utils 。<br /><code>sudo apt install v4l-utils</code></p></li><li><p>查看摄像头设备。<br /><code>v4l2-ctl --list-devices</code><br />我这电脑有两个摄像头，一个普通的，一个红外，但是列表竟然出现 4 个</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">HP HD Camera: HP HD Camera (usb-<span class="number">0000</span>:<span class="number">04</span>:<span class="number">00.4</span>-<span class="number">2</span>):</span><br><span class="line">     <span class="regexp">/dev/</span>video0</span><br><span class="line">     <span class="regexp">/dev/</span>video1</span><br><span class="line">     <span class="regexp">/dev/</span>video2</span><br><span class="line">     <span class="regexp">/dev/</span>video3</span><br></pre></td></tr></table></figure></li><li><p>手动指定摄像头设备。<br /><code>sudo howdy config</code> <em>（相当于 <code>sudo nano /usr/lib/security/howdy/cli/../config.ini</code> ）</em><br />找到 <code>evice_path = /dev/videoX</code>，修改成前面获取的设备路径。<br />挨个尝试后续操作。</p></li><li><p>添加人脸，与当前登录的用户相关联。<br /><code>sudo howdy add</code><br />提示输入 label ，随便填。<br />扫描录入成功之后，重开一个窗口，<code>sudo -i</code> ，看它是否能自动识别人脸并且通过验证。<br />重复几次，最终确定 <code>/dev/video2</code> 是红外摄像头，就用它了，晚上不开灯也能解锁。</p></li><li><p>每次人脸识别获取的图像文件及信息都在 <strong><code>/usr/lib/security/howdy/snapshots</code></strong> 文件夹<br />实测成功解锁的时间约为 0.2 秒，而且不仅 sudo 的验证可以自动通过，免输密码进行高权限操作，还可以兼容 Deepin 的锁屏，舒服了。</p></li><li><p><strong>提升成功率。</strong><br />多 add 个不同角度的人脸信息即可。</p></li><li><p><strong>安全性。</strong></p><p><code>sudo howdy config</code></p><p>确保 <code>ignore_ssh = true</code>，禁用 ssh 人脸验证，否则别人远程用你的照片就能解锁。</p><p><code>certainty = 2.8</code> 大概是 Balanced 模式的默认值，如果解锁速度够快，可以适当改小以提升安全系数，不推荐大于 5 。</p><p><code>capture_failed = true</code>，看看谁想偷看你的电脑。</p><p><code>capture_successful = true</code> 改为 false，验证成功就不保留人脸快照了。<em>（除非你借电脑给心上人）</em></p></li></ol><p>其它选项看着改，没什么专业词汇。</p><p><em>至于指纹解锁，在 Windows 的时候就几乎没用过，现在似乎由于缺少驱动，干脆检测不到设备，不管它，解锁方式不需要那么多。</em></p><blockquote><p>补充：有个可以忍受的 bug ，即如果刚开机的第一次解锁用的是 howdy ，解锁之后还要手动输入密钥环密码和 WiFi 密码，WTF ？问过开发者，说是 howdy 没有办法检测到自己是不是在开机登录时被唤出的，也就无法单独针对这一点进行配置，唯一能做的就是，<strong>enable it only for sudo</strong> 。</p></blockquote><blockquote><p>见 <a href="https://github.com/boltgolt/howdy/issues/503">Option to not allow facial recognition on first login #503</a><br /><em>Unfortunately Howdy can't know WHY it's being called, so it's hard to skip first login. However with this wikipage, you could enable it only for sudo, for example.</em></p></blockquote><blockquote><p>再补充：灭屏锁屏之后进行解锁，经常出现输入密码之后，一直在加载解锁过程（动画看起来是这样）。解决方案，故意错输密码，等它显示密码错误，这个时候 howdy 被唤醒，摄像头工作，OK，解锁成功。还有一种骚操作，点击锁屏界面右下角的电源按钮图标🔘，随便点个重启或者关机，<strong>注意头先不要对准摄像头，要不然就真的 重启 / 关机 了</strong>，鼠标<mark>迅速点击</mark>锁屏界面周围空白处，红色的关机按钮或者重启按钮变成蓝色的解锁按钮，再让摄像头扫描自己的脸，over。（文字描述多，实际操作其实很快，总之比输密码方便，又不是不能用.webp ）</p></blockquote><p>强制更新<br /><code>sudo pam-auth-update --force</code></p><h4 id="解决-WiFi-叹号">解决 WiFi 叹号</h4><p>此次使用过程中发现 WiFi 老是出现感叹号，瞅了两眼发现系统更新之后，内核竟然还是 5.4 。</p><p>按照社区公告，需要手动更新 5.10 ：</p><figure class="highlight mercury"><table><tr><td class="code"><pre><span class="line">sudo apt install linux-image-deepin-<span class="meta">stable</span>-amd64 linux-headers-deepin-<span class="meta">stable</span>-amd64</span><br></pre></td></tr></table></figure><p>观察一段时间……</p><h3 id="重装-Deepin-记录">重装 Deepin 记录</h3><h4 id="U盘制作启动盘">U盘制作启动盘</h4><p>找到U盘</p><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sudo fdisk -l</span></span><br></pre></td></tr></table></figure><p>制作启动盘</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">dd <span class="attribute">if</span>=xxx.iso（镜像文件路径，可用拖动文件进终端的方式直接获取） <span class="attribute">of</span>=U盘路径（/dev/sd? 小心辨别，谨防误操作）</span><br></pre></td></tr></table></figure><p>U盘预先插在速度快的 USB 3.0 接口，减少等待时间。</p><p>关机，开机狂按F9或者F10</p><p>设置刚刚的U盘为第一启动项目</p><p>进入 Deepin 安装引导</p><h4 id="自定义分区">自定义分区</h4><ul><li>300 M efi 分区</li><li>243896-1024*8=235704 M 全部为 ext4 分区，作为 / 挂载点</li><li>剩下 8192 M 即 8 G 作为 swap 交换分区</li></ul><p><em>不特意分 /home 应该没事；不用 swapfile 。</em></p><p>开始安装……</p><p>按照要求，点击重启，拔出 U 盘</p><h4 id="开机">开机</h4><p>联网，登录帐户。</p><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sudo apt update</span></span><br><span class="line"><span class="attribute">sudo apt upgrade</span></span><br></pre></td></tr></table></figure><p>安装好更新重启一次</p><p>重启之前改下缩放比例，调整至 150%</p><h4 id="全局缩放-1-5-倍">全局缩放 1.5 倍</h4><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">qdbus <span class="attr">--literal</span> com<span class="selector-class">.deepin</span><span class="selector-class">.daemon</span><span class="selector-class">.Appearance</span> /com/deepin/daemon/Appearance com<span class="selector-class">.deepin</span><span class="selector-class">.daemon</span><span class="selector-class">.Appearance</span><span class="selector-class">.SetScaleFactor</span> <span class="number">1.5</span></span><br></pre></td></tr></table></figure><p>老规矩 screenfetch 看看设备信息。</p><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">sudo apt <span class="keyword">install </span><span class="keyword">screenfetch</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">screenfetch</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/2/1612949400279.webp" alt="IMG_20210210_172909" /></p><h3 id="安装常用软件">安装常用软件</h3><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">sudo apt install kdeconnect com<span class="selector-class">.sougou</span><span class="selector-class">.sogoupinyin</span> cn<span class="selector-class">.wps</span><span class="selector-class">.wps-office</span> io<span class="selector-class">.typora</span> com.<span class="number">163</span><span class="selector-class">.music</span> mpv smplayer com<span class="selector-class">.qq</span><span class="selector-class">.weixin</span><span class="selector-class">.deepin</span> com<span class="selector-class">.jianguoyun</span> rclone rclone-browser timeshift org<span class="selector-class">.qbittorrent</span><span class="selector-class">.qbittorrent</span> org<span class="selector-class">.filezilla</span> gimp krita</span><br></pre></td></tr></table></figure><p>等待期间，QQ邮箱生成授权码，用深度邮箱进行登录；坚果云同步搞起。</p><p>还没下载好？</p><p>打开 <a href="http://bbs.deepin.org">bbs.deepin.org</a>，看看有什么新玩意儿。</p><h4 id="安装基本工具">安装基本工具</h4><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">sudo apt install git curl npm nodejs <span class="keyword">python</span> <span class="keyword">python</span>-pip <span class="keyword">python3</span>-venv <span class="keyword">python3</span>-pip aria2</span><br></pre></td></tr></table></figure><h4 id="Firefox-浏览器">Firefox 浏览器</h4><p>下载 Firefox 官方原版压缩包，（以及将来的类似应用）统一解压至 ~/Applications</p><p><a href="https://blog.csdn.net/qq_40738077/article/details/105397514">Firefox使用Chrome主题</a></p><h4 id="桌面快捷方式编辑器"><a href="https://gitee.com/deepin-opensource/desktop-entry-editor/releases">桌面快捷方式编辑器</a></h4><h4 id="micro-编辑器">micro 编辑器</h4><p><s>不知道比 vim 、nano 高到哪里去了。</s></p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">curl https:<span class="regexp">//g</span>etmic.ro | bash</span><br><span class="line">sudo apt install xclip</span><br></pre></td></tr></table></figure><p>发现还是找不到 micro 命令</p><p>原来它把二进制文件直接放在 ~/micro<br /><code>./micro</code> 可用</p><p>那就</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cp ~<span class="regexp">/micro ~/</span>.local<span class="regexp">/bin/mi</span>cro</span><br></pre></td></tr></table></figure><p>.bashrc 以及后来的 .zshrc 添加</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">export PATH=<span class="regexp">/home/u</span>sername<span class="regexp">/.local/</span>bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><h4 id="安装-VBox-虚拟机">安装 VBox 虚拟机</h4><p><a href="https://www.virtualbox.org/">https://www.virtualbox.org/</a><br />下载deb包<br />进入下载目录<br />sudo dpkg -i <em>virtualbox</em>.deb</p><p>问题有点多，直接贴出记录：</p><details ><summary>点击展开</summary><div class="fold-content"><figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line">username@HP<span class="string">-735</span>G5-Deepin:/media/username/娱乐/Deepin/Deb$ sudo dpkg -i *virtualbox*.deb</span><br><span class="line">请输入密码</span><br><span class="line">[sudo] username 的密码：</span><br><span class="line">验证成功</span><br><span class="line">正在选中未选择的软件包 virtualbox<span class="string">-6</span>.1。</span><br><span class="line">(正在读取数据库 ... 系统当前共安装有 246270 个文件和目录。)</span><br><span class="line">准备解压 virtualbox<span class="string">-6</span>.1_6.1.18<span class="string">-142142</span>~Debian~jessie_amd64.deb  ...</span><br><span class="line">正在解压 virtualbox<span class="string">-6</span>.1 (6.1.18<span class="string">-142142</span>~Debian~jessie) ...</span><br><span class="line">dpkg: 依赖关系问题使得 virtualbox<span class="string">-6</span>.1 的配置工作不能继续：</span><br><span class="line"> virtualbox<span class="string">-6</span>.1 依赖于 libcurl3 (&gt;= 7.16.2)；然而：</span><br><span class="line">  未安装软件包 libcurl3。</span><br><span class="line"> virtualbox<span class="string">-6</span>.1 依赖于 libssl1.0.0 (&gt;= 1.0.1)；然而：</span><br><span class="line">  未安装软件包 libssl1.0.0。</span><br><span class="line"> virtualbox<span class="string">-6</span>.1 依赖于 libvpx1 (&gt;= 1.0.0)；然而：</span><br><span class="line">  未安装软件包 libvpx1。</span><br><span class="line"></span><br><span class="line">dpkg: 处理软件包 virtualbox<span class="string">-6</span>.1 (--install)时出错：</span><br><span class="line"> 依赖关系问题 - 仍未被配置</span><br><span class="line">正在处理用于 systemd (241.8.1<span class="string">-6</span>+dde) 的触发器 ...</span><br><span class="line">正在处理用于 hicolor-icon-theme (0.17<span class="string">-2</span>) 的触发器 ...</span><br><span class="line">正在处理用于 shared-mime-info (1.10.1<span class="string">-1</span>+eagle) 的触发器 ...</span><br><span class="line">正在处理用于 lastore-daemon (5.1.30.1<span class="string">-1</span>) 的触发器 ...</span><br><span class="line">正在处理用于 bamfdaemon (0.5.4.1<span class="string">-1</span>+eagle) 的触发器 ...</span><br><span class="line">Rebuilding /usr/share/applications/bamf<span class="string">-2</span>.index...</span><br><span class="line">正在处理用于 desktop-file-utils (0.23<span class="string">-4</span>) 的触发器 ...</span><br><span class="line">正在处理用于 mime-support (3.62) 的触发器 ...</span><br><span class="line">在处理时有错误发生：</span><br><span class="line"> virtualbox<span class="string">-6</span>.1</span><br><span class="line">username@HP<span class="string">-735</span>G5-Deepin:/media/username/娱乐/Deepin/Deb$ sudo apt install libcurl3 libssl1.0.0 libvpx1</span><br><span class="line">正在读取软件包列表... 完成</span><br><span class="line">正在分析软件包的依赖关系树       </span><br><span class="line">正在读取状态信息... 完成       </span><br><span class="line">没有可用的软件包 libcurl3，但是它被其它的软件包引用了。</span><br><span class="line">这可能意味着这个缺失的软件包可能已被废弃，</span><br><span class="line">或者只能在其他发布源中找到</span><br><span class="line">然而下列软件包会取代它：</span><br><span class="line">  libcurl4:i386 libcurl4</span><br><span class="line"></span><br><span class="line">没有可用的软件包 libssl1.0.0，但是它被其它的软件包引用了。</span><br><span class="line">这可能意味着这个缺失的软件包可能已被废弃，</span><br><span class="line">或者只能在其他发布源中找到</span><br><span class="line"></span><br><span class="line">没有可用的软件包 libvpx1，但是它被其它的软件包引用了。</span><br><span class="line">这可能意味着这个缺失的软件包可能已被废弃，</span><br><span class="line">或者只能在其他发布源中找到</span><br><span class="line"></span><br><span class="line">E: 软件包 libcurl3 没有可安装候选</span><br><span class="line">E: 软件包 libssl1.0.0 没有可安装候选</span><br><span class="line">E: 软件包 libvpx1 没有可安装候选</span><br><span class="line">username@HP<span class="string">-735</span>G5-Deepin:/media/username/娱乐/Deepin/Deb$ sudo apt install libcurl4:i386 libcurl4 libssl1.0.0 libvpx1</span><br><span class="line">正在读取软件包列表... 完成</span><br><span class="line">正在分析软件包的依赖关系树       </span><br><span class="line">正在读取状态信息... 完成       </span><br><span class="line">没有可用的软件包 libssl1.0.0，但是它被其它的软件包引用了。</span><br><span class="line">这可能意味着这个缺失的软件包可能已被废弃，</span><br><span class="line">或者只能在其他发布源中找到</span><br><span class="line"></span><br><span class="line">没有可用的软件包 libvpx1，但是它被其它的软件包引用了。</span><br><span class="line">这可能意味着这个缺失的软件包可能已被废弃，</span><br><span class="line">或者只能在其他发布源中找到</span><br><span class="line"></span><br><span class="line">E: 软件包 libssl1.0.0 没有可安装候选</span><br><span class="line">E: 软件包 libvpx1 没有可安装候选</span><br><span class="line">username@HP<span class="string">-735</span>G5-Deepin:/media/username/娱乐/Deepin/Deb$ sudo apt install libcurl4:i386 libcurl4</span><br><span class="line">正在读取软件包列表... 完成</span><br><span class="line">正在分析软件包的依赖关系树       </span><br><span class="line">正在读取状态信息... 完成       </span><br><span class="line">libcurl4 已经是最新版 (7.64.0<span class="string">-4</span>+deb10u1)。</span><br><span class="line">libcurl4 已设置为手动安装。</span><br><span class="line">您也许需要运行“apt --fix-broken install”来修正上面的错误。</span><br><span class="line">下列软件包有未满足的依赖关系：</span><br><span class="line"> libcurl4:i386 : 依赖: libnghttp2<span class="string">-14</span>:i386 (&gt;= 1.12.0) 但是它将不会被安装</span><br><span class="line">                 依�������: libpsl5:i386 (&gt;= 0.16.0) 但是它将不会被安装</span><br><span class="line">                 依赖: librtmp1:i386 (&gt;= 2.4<span class="string">+20131018</span>.git79459a2<span class="string">-3</span>~) 但是它将不会被安装</span><br><span class="line">                 依赖: libssh2<span class="string">-1</span>:i386 (&gt;= 1.7.0) 但是它将不会被安装</span><br><span class="line"> virtualbox<span class="string">-6</span>.1 : 依赖: libcurl3 (&gt;= 7.16.2) 但无法安装它</span><br><span class="line">                  依赖: libssl1.0.0 (&gt;= 1.0.1) 但无法安装它</span><br><span class="line">                  依赖: libvpx1 (&gt;= 1.0.0) 但无法安装它</span><br><span class="line">                  推荐: libsdl-ttf2.0<span class="string">-0</span> 但是它将不会被安装</span><br><span class="line">                  推荐: linux-headers-generic 但无法安装它 或</span><br><span class="line">                          linux-headers-generic-pae 但无法安装它 或</span><br><span class="line">                          linux-headers<span class="string">-686</span>-pae 但无法安装它 或</span><br><span class="line">                          linux-headers-amd64 但是它将不会被安装 或</span><br><span class="line">                          linux-headers<span class="string">-2</span>.6<span class="string">-686</span> 但无法安装它 或</span><br><span class="line">                          linux-headers<span class="string">-2</span>.6-amd64 但无法安装它 或</span><br><span class="line">                          linux-headers</span><br><span class="line">                  推荐: linux-image</span><br><span class="line">                  推荐: pdf-viewer</span><br><span class="line">E: 有未能满足的依赖关系。请尝试不指明软件包的名字来运行“apt --fix-broken install”(也可以指定一个解决办法)。</span><br><span class="line">username@HP<span class="string">-735</span>G5-Deepin:/media/username/娱乐/Deepin/Deb$ apt --fix-broken install</span><br><span class="line">E: 无法打开锁文件 /var/lib/dpkg/lock-frontend - open (13: 权限不够)</span><br><span class="line">E: 无法获取 dpkg 前端锁 (/var/lib/dpkg/lock-frontend)，请查看您是否正以 root 用户运行？</span><br><span class="line">username@HP<span class="string">-735</span>G5-Deepin:/media/username/娱乐/Deepin/Deb$ sudo apt --fix-broken install</span><br><span class="line">正在读取软件包列表... 完成</span><br><span class="line">正在分析软件包的依赖关系树       </span><br><span class="line">正在读取状态信息... 完成       </span><br><span class="line">正在修复依赖关系... 完成</span><br><span class="line">下列软件包是自动安装的并且现在不需要了：</span><br><span class="line">  fbterm imageworsener libatkmm<span class="string">-1</span>.6<span class="string">-1</span>v5 libcairomm<span class="string">-1</span>.0<span class="string">-1</span>v5 libdumbnet1 libgtkmm<span class="string">-3</span>.0<span class="string">-1</span>v5 liblqr<span class="string">-1</span><span class="string">-0</span></span><br><span class="line">  libmaxminddb0 libmspack0 libnatspec0 libpangomm<span class="string">-1</span>.4<span class="string">-1</span>v5 libqtermwidget5<span class="string">-0</span> libsmi2ldbl libutempter0</span><br><span class="line">  libutf8proc2 libwireshark-data libwireshark11 libwiretap8 libwscodecs2 libwsutil9 libx86<span class="string">-1</span></span><br><span class="line">  libxmlsec1-openssl live-system-com qtermwidget5-data squashfs-tools x11-apps x11-session-utils xbitmaps</span><br><span class="line">  xinit</span><br><span class="line">使用&#x27;sudo apt autoremove&#x27;来卸载它(它们)。</span><br><span class="line">将会同时安装下列软件：</span><br><span class="line">  virtualbox<span class="string">-6</span>.1</span><br><span class="line">推荐安装：</span><br><span class="line">  libsdl-ttf2.0<span class="string">-0</span></span><br><span class="line">下列软件包将被升级：</span><br><span class="line">  virtualbox<span class="string">-6</span>.1</span><br><span class="line">升级了 1 个软件包，新安装了 0 个软件包，要卸载 0 个软件包，有 1 个软件包未被升级。</span><br><span class="line">有 1 个软件包没有被完全安装或卸载。</span><br><span class="line">需要下载 88.3 MB 的归档。</span><br><span class="line">解压缩后将会空出 14.9 MB 的空间。</span><br><span class="line">您希望继续执行吗？ [Y/n] y</span><br><span class="line">获取:1 https://community-packages.deepin.com/deepin apricot/contrib amd64 virtualbox<span class="string">-6</span>.1 amd64 6.1.18<span class="string">-142143</span>~Debian~buster [88.3 MB]</span><br><span class="line">已下载 88.3 MB，耗时 38秒 (2,343 kB/s)                                                                       </span><br><span class="line">正在预设定软件包 ...</span><br><span class="line">(正在读取数据库 ... 系统当前共安装有 247033 个文件和目录。)</span><br><span class="line">准备解压 .../virtualbox<span class="string">-6</span>.1_6.1.18<span class="string">-142143</span>~Debian~buster_amd64.deb  ...</span><br><span class="line">正在解压 virtualbox<span class="string">-6</span>.1 (6.1.18<span class="string">-142143</span>~Debian~buster) 并覆盖 (6.1.18<span class="string">-142142</span>~Debian~jessie) ...</span><br><span class="line">正在设置 virtualbox<span class="string">-6</span>.1 (6.1.18<span class="string">-142143</span>~Debian~buster) ...</span><br><span class="line">正在添加组&quot;vboxusers&quot; (GID 130)...</span><br><span class="line">完成。</span><br><span class="line">正在处理用于 desktop-file-utils (0.23<span class="string">-4</span>) 的触发器 ...</span><br><span class="line">正在处理用于 mime-support (3.62) 的触发器 ...</span><br><span class="line">正在处理用于 hicolor-icon-theme (0.17<span class="string">-2</span>) 的触发器 ...</span><br><span class="line">正在处理用于 lastore-daemon (5.1.30.1<span class="string">-1</span>) 的触发器 ...</span><br><span class="line">正在处理用于 systemd (241.8.1<span class="string">-6</span>+dde) 的触发器 ...</span><br><span class="line">正在处理用于 shared-mime-info (1.10.1<span class="string">-1</span>+eagle) 的触发器 ...</span><br><span class="line">正在处理用于 bamfdaemon (0.5.4.1<span class="string">-1</span>+eagle) 的触发器 ...</span><br><span class="line">Rebuilding /usr/share/applications/bamf<span class="string">-2</span>.index...</span><br></pre></td></tr></table></figure></div></details><p>VirtualBox 安装 Windows 太简单，略。</p><h4 id="DDE-任务栏-CPU、流量监控">DDE 任务栏 CPU、流量监控</h4><p>可以说是 Linux 下的 Traffic Monitor，甚至更漂亮。</p><p>随便找个目录下载源码</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="regexp">//gi</span>thub.com<span class="regexp">/q77190858/</span>dde-sys-monitor-plugin</span><br></pre></td></tr></table></figure><p>安装编译依赖</p><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">sudo apt <span class="keyword">install </span><span class="keyword">build-essential</span></span><br><span class="line"><span class="keyword"></span>sudo apt <span class="keyword">install </span>dde-dock-dev</span><br><span class="line">sudo apt <span class="keyword">install </span>qtbase5-dev-tools</span><br><span class="line">sudo apt <span class="keyword">install </span>libdtkwidget-dev</span><br><span class="line">sudo apt <span class="keyword">install </span>qtcreator <span class="comment">#非必要</span></span><br><span class="line">sudo apt <span class="keyword">install </span>cmake</span><br></pre></td></tr></table></figure><p>一键编译安装</p><figure class="highlight stata"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> dde-sys-monitor-<span class="keyword">plugin</span></span><br><span class="line">./build.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure><h4 id="wine5-应用的分辨率修改">wine5 应用的分辨率修改</h4><p><code>env WINEPREFIX=&quot;$HOME/.deepinwine/Deepin-WeChat&quot; deepin-wine5 winecfg</code><br />发现没有命令，需要安装<br /><code>sudo apt install deepin-wine5</code></p><h4 id="游戏">游戏</h4><p>装个 steam</p><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">sudo apt <span class="keyword">install</span> steam</span><br></pre></td></tr></table></figure><p>Terraria 很流畅。</p><h3 id="ssh-相关">ssh 相关</h3><p>之前的 ssh 配置丢了，重新生成一次</p><figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -f ~<span class="regexp">/.ssh/i</span>d_rsa.Deepin -C <span class="string">&quot;735-G5-Deepin&quot;</span></span><br></pre></td></tr></table></figure><p>一路回车</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">cat</span> id_rsa.Deepin.pub</span><br></pre></td></tr></table></figure><p>打开<br /><a href="https://github.com/settings/keys">https://github.com/settings/keys</a></p><p>添加公钥</p><p>还是上面的目录下 <code>micro config</code></p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># github</span></span><br><span class="line">Host *github.com</span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line">  IdentityFile ~<span class="regexp">/.ssh/i</span>d_rsa.Deepin</span><br></pre></td></tr></table></figure><p><code>ssh -T git@github.com</code> 测试是否通过验证。</p><p>coding、gitee、gitlab 同理。</p><p>干脆给手机也来一份<br />把公钥添加进手机的 ~/.ssh/authorized_keys<br /><code>whoami</code> 和 <code>ifconfig</code> 查看用户名和 ip<br />电脑 ssh <a href="mailto:u0_a266@192.168.1.101">u0_a266@192.168.1.101</a> -p 8022，开始控制手机愉快玩耍。</p><p>内网穿透略。</p><h4 id="恢复博客搭建环境">恢复博客搭建环境</h4><p>git clone 把博客源码拉回本地。</p><p>进入目录 npm install hexo-cli -g<br />报错：</p><details ><summary>点击展开</summary><div class="fold-content"><figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">$  npm install hexo-<span class="keyword">cli</span> -<span class="keyword">g</span> </span><br><span class="line">npm WARN npm npm does not support Node.js v10.21.0</span><br><span class="line">npm WARN npm You should probably upgrade to a newer <span class="keyword">version</span> of node <span class="keyword">as</span> we</span><br><span class="line">npm WARN npm can&#x27;t make any promises that npm will work with this <span class="keyword">version</span>.</span><br><span class="line">npm WARN npm Supported releases of Node.js are the latest release of 4, 6, 7, 8, 9.</span><br><span class="line">npm WARN npm You can find the latest <span class="keyword">version</span> at https:<span class="comment">//nodejs.org/</span></span><br><span class="line">npm WARN checkPermissions Missing write access to /usr/<span class="keyword">local</span>/lib</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/hexo-<span class="keyword">cli</span>/node_modules/chokidar/node_modules/fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@2.3.2: wanted &#123;<span class="string">&quot;os&quot;</span>:<span class="string">&quot;darwin&quot;</span>,<span class="string">&quot;arch&quot;</span>:<span class="string">&quot;any&quot;</span>&#125; (current: &#123;<span class="string">&quot;os&quot;</span>:<span class="string">&quot;linux&quot;</span>,<span class="string">&quot;arch&quot;</span>:<span class="string">&quot;x64&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">npm <span class="keyword">ERR</span>! path /usr/<span class="keyword">local</span>/lib</span><br><span class="line">npm <span class="keyword">ERR</span>! code EACCES</span><br><span class="line">npm <span class="keyword">ERR</span>! errno -13</span><br><span class="line">npm <span class="keyword">ERR</span>! syscall access</span><br><span class="line">npm <span class="keyword">ERR</span>! <span class="keyword">Error</span>: EACCES: permission denied, access &#x27;/usr/<span class="keyword">local</span>/lib&#x27;</span><br><span class="line">npm <span class="keyword">ERR</span>!  &#123; [<span class="keyword">Error</span>: EACCES: permission denied, access &#x27;/usr/<span class="keyword">local</span>/lib&#x27;]</span><br><span class="line">npm <span class="keyword">ERR</span>!   <span class="keyword">stack</span>:</span><br><span class="line">npm <span class="keyword">ERR</span>!    &#x27;<span class="keyword">Error</span>: EACCES: permission denied, access \&#x27;/usr/<span class="keyword">local</span>/lib\&#x27;&#x27;,</span><br><span class="line">npm <span class="keyword">ERR</span>!   errno: -13,</span><br><span class="line">npm <span class="keyword">ERR</span>!   code: &#x27;EACCES&#x27;,</span><br><span class="line">npm <span class="keyword">ERR</span>!   syscall: &#x27;access&#x27;,</span><br><span class="line">npm <span class="keyword">ERR</span>!   path: &#x27;/usr/<span class="keyword">local</span>/lib&#x27; &#125;</span><br><span class="line">npm <span class="keyword">ERR</span>! </span><br><span class="line">npm <span class="keyword">ERR</span>! The operation was rejected <span class="keyword">by</span> your operating system.</span><br><span class="line">npm <span class="keyword">ERR</span>! It is likely you <span class="keyword">do</span> not have the permissions to access this <span class="keyword">file</span> <span class="keyword">as</span> the current user</span><br><span class="line">npm <span class="keyword">ERR</span>! </span><br><span class="line">npm <span class="keyword">ERR</span>! <span class="keyword">If</span> you believe this might be a permissions issue, please double-check the</span><br><span class="line">npm <span class="keyword">ERR</span>! permissions of the <span class="keyword">file</span> and its containing directories, or try running</span><br><span class="line">npm <span class="keyword">ERR</span>! the command again <span class="keyword">as</span> root/Administrator (though this is not recommended).</span><br></pre></td></tr></table></figure></div></details><p>版本太老？</p><p>npm 修改淘宝源，安装 n 模块</p><figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">sudo npm config <span class="keyword">set</span> registry <span class="comment">https:</span>//<span class="comment">registry.npm.taobao.org</span></span><br><span class="line">sudo <span class="comment">npm config list</span></span><br><span class="line">sudo <span class="comment">npm install n -g</span></span><br></pre></td></tr></table></figure><p>安装最新的 nodejs（stable版本）</p><figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">sudo n stable</span><br><span class="line">sudo <span class="keyword">node</span> <span class="title">-v</span></span><br><span class="line">sudo npm -v</span><br></pre></td></tr></table></figure><p>重新</p><figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">sudo npm install hexo-<span class="keyword">cli</span> -g</span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><h4 id="GIT-中文乱码">GIT 中文乱码</h4><p><code>micro .gitconfig</code> 添加：</p><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[gui]</span></span><br><span class="line">    <span class="attr">encoding</span> = utf-<span class="number">8</span>  </span><br><span class="line">    <span class="comment"># 代码库统一使用utf-8  </span></span><br><span class="line"><span class="section">[i18n]</span></span><br><span class="line">    <span class="attr">commitencoding</span> = utf-<span class="number">8</span>  </span><br><span class="line">    <span class="comment"># log编码  </span></span><br><span class="line"><span class="section">[svn]</span></span><br><span class="line">    <span class="attr">pathnameencoding</span> = utf-<span class="number">8</span>  </span><br><span class="line">    <span class="comment"># 支持中文路径  </span></span><br><span class="line"><span class="section">[core]</span></span><br><span class="line"><span class="attr">quotepath</span> = <span class="literal">false</span> </span><br><span class="line"><span class="comment"># status引用路径不再是八进制（反过来说就是允许显示中文）</span></span><br></pre></td></tr></table></figure><h3 id="安装-zsh-和-oh-my-zsh">安装 zsh 和 oh my zsh</h3><p><code>sudo apt-get install zsh -y</code></p><p>安装 oh-my-zsh 的脚本</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">sh</span> -<span class="keyword">c</span> <span class="string">&quot;$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)&quot;</span></span><br><span class="line">--<span class="number">2021</span>-<span class="number">02</span>-<span class="number">10</span> <span class="number">13</span>:<span class="number">24</span>:<span class="number">13</span>--  https://raw.github.<span class="keyword">com</span>/robbyrussell/oh-my-zsh/master/tools/install.<span class="keyword">sh</span></span><br><span class="line">正在解析主机 raw.github.<span class="keyword">com</span> (raw.github.<span class="keyword">com</span>)... <span class="number">151.101</span>.<span class="number">76.133</span></span><br><span class="line">正在连接 raw.github.<span class="keyword">com</span> (raw.github.<span class="keyword">com</span>)|<span class="number">151.101</span>.<span class="number">76.133</span>|:<span class="number">443</span>... 已连接。</span><br><span class="line">GnuTLS: Error in the pull <span class="keyword">function</span>.</span><br><span class="line">无法建立 SSL 连接。</span><br></pre></td></tr></table></figure><p>万恶的 443</p><h4 id="解决-Github-网络问题">解决 Github 网络问题</h4><p><a href="https://www.ipaddress.com/">https://www.ipaddress.com/</a><br />得到真实 ip</p><p><code>sudo micro /etc/hosts</code></p><p>添加</p><figure class="highlight accesslog"><table><tr><td class="code"><pre><span class="line"><span class="number">199.232.96.133</span> raw.github.com</span><br><span class="line"><span class="number">199.232.96.133</span> raw.githubusercontent.com</span><br></pre></td></tr></table></figure><p>保存</p><p>重新运行上面的脚本，将 zsh 设置为默认 shell</p><p>安装 <a href="https://github.com/tobyjamesthomas/pi">pi 主题</a></p><p>wget -O  ~/.oh-my-zsh/themes/pi.zsh-theme <a href="https://raw.githubusercontent.com/tobyjamesthomas/pi/master/pi.zsh-theme">https://raw.githubusercontent.com/tobyjamesthomas/pi/master/pi.zsh-theme</a></p><p>修改 .zshrc</p><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">ZSH_THEME</span>=<span class="string">&quot;pi&quot;</span></span><br></pre></td></tr></table></figure><h4 id="自动补全、命令高亮、快速跳转目录、纠错插件">自动补全、命令高亮、快速跳转目录、纠错插件</h4><p>安装：</p><ol><li><p>zsh-autosuggestions</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="regexp">//gi</span>thub.com<span class="regexp">/zsh-users/</span>zsh-autosuggestions <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span><span class="regexp">/plugins/</span>zsh-autosuggestions</span><br></pre></td></tr></table></figure></li><li><p>zsh-syntax-highlighting</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="regexp">//gi</span>thub.com<span class="regexp">/zsh-users/</span>zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span><span class="regexp">/plugins/</span>zsh-syntax-highlighting</span><br></pre></td></tr></table></figure></li><li><p>autojump</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> install autojump</span><br></pre></td></tr></table></figure><p>跳转目录，例如 <code>j do</code>、<code>j d</code> 可以自动跳转至常用的 <code>~/Download</code> 文件夹。</p></li><li><p><a href="https://github.com/nvbn/thefuck">thefuck</a></p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">sudo apt install <span class="keyword">python3</span>-dev <span class="keyword">python3</span>-pip <span class="keyword">python3</span>-setuptools</span><br><span class="line">sudo pip3 install thefuck</span><br></pre></td></tr></table></figure><p>输错命令的时候来一句 fuck ，自动纠正。</p></li></ol><p><strong><mark>启用：</mark></strong><br />修改 <code>.zshrc</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">plugins=(</span><br><span class="line">git</span><br><span class="line">zsh-autosuggestions</span><br><span class="line">zsh-syntax-highlighting</span><br><span class="line">autojump</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">bindkey</span> <span class="string">&#x27;,&#x27;</span> autosuggest-accept</span><br><span class="line"></span><br><span class="line"><span class="built_in">eval</span> $(thefuck --<span class="built_in">alias</span> FUCK) <span class="comment"># FUCK 可以自定义其它字符。</span></span><br></pre></td></tr></table></figure><h3 id="问候语">问候语</h3><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">sudo apt <span class="keyword">install</span> fortune cowsay</span><br></pre></td></tr></table></figure><p>修改 <code>.zshrc</code> 最后加上：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;=============== Quote Of The Day ===============&quot;</span></span><br><span class="line"><span class="built_in">echo</span></span><br><span class="line">fortune | cowsay</span><br><span class="line"><span class="built_in">echo</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;================================================&quot;</span></span><br><span class="line"><span class="built_in">echo</span></span><br></pre></td></tr></table></figure><h3 id="其它值得折腾的">其它值得折腾的</h3><p><em>还是放前面吧。</em></p><h4 id="投屏">投屏</h4><p>Scrcpy or VNC Viewer？</p><h3 id="参考">参考</h3><ul><li><a href="https://zc-cris.github.io/archives/7a98167e.html">Deepin 安装和使用 zsh </a></li><li><a href="https://www.ruanyifeng.com/blog/2015/04/fortune.html">fortune 命令简介</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;惠普 735g5 ，从 Windows 到 Ubuntu、Deepin、Manjaro 再到 Arch Linux，最终还是回归 Deepin OS 的怀抱，期待它越来越好用。&lt;/p&gt;
&lt;p&gt;养老了（确信）&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="Deepin" scheme="https://loafing.cn/tags/Deepin/"/>
    
    <category term="Linux" scheme="https://loafing.cn/tags/Linux/"/>
    
    <category term="记录" scheme="https://loafing.cn/tags/%E8%AE%B0%E5%BD%95/"/>
    
    <category term="教程" scheme="https://loafing.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>「记录」DeepinOS 自用软件安装及使用一览</title>
    <link href="https://loafing.cn/posts/Applications-on-Deepin.html"/>
    <id>https://loafing.cn/posts/Applications-on-Deepin.html</id>
    <published>2021-02-05T15:52:57.000Z</published>
    <updated>2021-03-20T10:19:57.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>打造一个 Linux 舒适区。</p><p><em>算是 Linux 软件推荐。</em></p><p>随缘更新，慢慢搜罗~</p><span id="more"></span><p><em>其实 Deepin OS 自带的基础工具已经很好用了。</em></p><h2 id="应用获取方式">应用获取方式</h2><ul><li>Deepin 应用商店</li><li><a href="https://www.spark-app.store/download.html">星火应用商店</a></li><li>各软件官网</li><li>GitHub找包或者按照说明进行编译</li></ul><p><em><strong>不推荐 snap-store</strong></em></p><h2 id="浏览器">浏览器</h2><h3 id="Firefox">Firefox</h3><p>应用商店的版本更新太慢。</p><p>参考 <a href="https://bbs.deepin.org/post/213150">deepin 中安装最新国际版 firefox</a> 、<a href="https://bbs.deepin.org/post/213143">火狐浏览器原版安装办法</a></p><p>默认样式太丑：<a href="https://blog.csdn.net/qq_40738077/article/details/105397514">Firefox使用Chrome主题</a></p><p>网页字体模糊：设置，字体，高级，禁用网页自定义字体效果。</p><h3 id="Chrome">Chrome</h3><p>应用商店的版本，更新有 bug，总是自动从 88 回退到 86 版。<br />建议从官网下载 deb 包。</p><blockquote><p><em>刚才在虚拟机里试了一下，大概知道是怎么回事了。商店里的 cn.google.chrome 和官网版本的 google-chrome-stable 是没有冲突的，但前者的启动器会覆盖后者的。当你按照 chrome 的提示更新时，你下载安装的是 google-chrome-stable，但从启动器启动的仍然是旧版的 cn.google.chrome。只需要卸载 cn.google.chrome，再重新安装 google-chrome-stable，问题就解决了。</em></p><p><em>PS：建议不要在 deepin 的软件商店安装通过自己的渠道分发更新的软件</em><br /><em>@SamLukeYes 发表于2021-02-05 13:29</em></p></blockquote><h2 id="输入法">输入法</h2><h3 id="搜狗拼音">搜狗拼音</h3><p><code>sudo apt install com.sougou.sogoupinyin</code></p><p>Mac 超级键盘皮肤非常漂亮，云联想很好用。</p><p><s><a href="https://pinyin.sogou.com/dict/">词库下载</a></s></p><p><s><code>mv ~/Downloads/*.scel ~/.config/SogouPY/scd</code></s></p><h2 id="办公学习">办公学习</h2><h3 id="待办-todo">待办 todo</h3><p><code>sudo apt install gnome-todo</code></p><p>存储的数据在 <code>~/.local/share/evolution/tasks</code> 目录。</p><p>为方便呼出，可在 Deepin 的控制中心（设置）添加快捷键，如 <code>ALT + D</code> ，命令填 <code>gnome-todo</code> ，随时查看待办任务。</p><h3 id="WPS">WPS</h3><p><code>sudo apt install cn.wps.wps-office</code></p><p>附 <a href="https://bbs.deepin.org/zh/post/200226">PDF查看软件推荐</a></p><h3 id="QTiplot">QTiplot</h3><p>或许能替代 Origin，丢实验数据给它作图用。</p><p><code>sudo apt install qtiplot</code></p><h3 id="SciDAVis">SciDAVis</h3><p><code>sudo apt install com.scidavis</code></p><p>这个最近有更新，并且自带中文。</p><p>『Edit』→『Preferences』→『General』→『Application』→『Language』→『简体中文』</p><p><em>希望我不会特意切到 Windows 去用 Origin（逃）</em></p><h3 id="GPeriodic">GPeriodic</h3><p>元素周期表，轻量强大，支持中文，这不比用搜索引擎查化学元素更清真？</p><p><code>sudo apt install gperiodic</code></p><p><em>默认显示开尔文温度。</em></p><h3 id="Foliate"><a href="https://github.com/johnfactotum/foliate">Foliate</a></h3><p>epub 阅读器，简洁优雅。</p><p><code>sudo apt install foliate</code></p><h2 id="文本编辑">文本编辑</h2><h3 id="Typora">Typora</h3><p>写 Markdown 没有比它更漂亮的。<br /><code>sudo apt install io.typora</code></p><p>附 <a href="https://bbs.deepin.org/zh/post/209923">[新手教程] Markdown 与 Typora，以及云同步</a></p><h3 id="gedit">gedit</h3><p><code>sudo apt install gedit</code></p><p>Gnome 里面的工具总是让人欣喜，轻量美观，内置 Solarized Dark 主题，还吸取了部分 vscode 的优点，兼顾功能性与响应速度。</p><p>同样加个快捷键，<code>Super + G</code> 唤出 <code>gedit</code> 命令。</p><h3 id="pandoc">pandoc</h3><p>写 Markdown，转换为 Word 或者 PDF 靠 pandoc 。</p><p>md to doc docx</p><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pandoc <span class="keyword">test</span>.md -o <span class="keyword">test</span>.doc</span><br></pre></td></tr></table></figure><p>md to pdf<br />报错：</p><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">pandoc test<span class="selector-class">.md</span> -o test<span class="selector-class">.pdf</span></span><br><span class="line">pdflatex not found. Please select <span class="selector-tag">a</span> different <span class="attr">--pdf-engine</span> or install pdflatex </span><br></pre></td></tr></table></figure><p>参考 <a href="https://github.com/jgm/pandoc/issues/4865">xelatex not found under Debian, although confirmed installed and available</a> 和 <a href="https://gist.github.com/rain1024/98dd5e2c6c8c28f9ea9d">rain1024/tut.md</a></p><p>装好 pdf 引擎之后：</p><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pandoc --pdf-engine=xelatex <span class="keyword">test</span>.md -o <span class="keyword">test</span>.pdf</span><br></pre></td></tr></table></figure><p>又碰到问题，不支持 webp ？</p><p>见 <a href="https://github.com/jgm/pandoc/issues/5267">https://github.com/jgm/pandoc/issues/5267</a> 和 <a href="https://github.com/juba/rmdformats/issues/20">https://github.com/juba/rmdformats/issues/20</a></p><h3 id="为知笔记">为知笔记</h3><h2 id="影音播放">影音播放</h2><h3 id="网易云音乐">网易云音乐</h3><p><code>sudo apt install com.163.music</code></p><p>或者从官网下载deb包。<br />下载页右上角：其他操作系统客户端。</p><p><a href="https://bbs.deepin.org/post/218696">解决网易云音乐在高分屏下 UI 太小的问题：</a></p><p><code>sudo micro /usr/share/applications/com.163.music.desktop</code></p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">Exec=env QT_SCALE_FACTOR=<span class="number">1.5</span> <span class="regexp">/opt/</span>apps<span class="regexp">/com.163.music/</span>files<span class="regexp">/bin/</span>netease-cloud-music %U</span><br></pre></td></tr></table></figure><h3 id="QQ音乐">QQ音乐</h3><p>（推荐wine版，Linux版残废）</p><p><s><code>sudo apt install com.qq.y.spark</code></s></p><h3 id="MPV-Player">MPV Player</h3><p><code>sudo apt install mpv</code></p><p>简洁到让人无所适从的播放器</p><p>快捷键见这篇 <a href="https://www.jianshu.com/p/489fbd8bf0a5">mpv播放器基础使用（鼠标，键盘快捷键）</a></p><p>常用功能其实足够了，并不逊色于 potplayer。</p><p>快捷键 <code>s</code> 和 <code>S</code> ，保存的截图默认在视频文件夹下面，乱糟糟。</p><p><strong>修改 mpv 默认截图输出目录：</strong></p><p><code>micro ~/.config/mpv/mpv.conf</code> （可能为空）</p><p>添加：</p><figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">screenshot-directory=~<span class="regexp">/Pictures/m</span>pv</span><br></pre></td></tr></table></figure><p>保存后重新点开一个视频看看截图路径。</p><h3 id="SMPlayer">SMPlayer</h3><p><s>Linux 上没有 potplayer 那么强大的播放器。</s></p><p><code>sudo apt install smplayer</code></p><h3 id="YesPlayMusic">YesPlayMusic</h3><p>一款高颜值的第三方网易云播放器。</p><p>前往 <a href="https://github.com/qier222/YesPlayMusic/releases">Github release</a> 下载。</p><h2 id="聊天沟通">聊天沟通</h2><h3 id="邮箱">邮箱</h3><p>登陆 qq 邮箱，设置，帐户，开启 POP3/SMTP 服务、IMAP/SMTP 服务，生成授权码。</p><p>Deepin 内置的邮箱非常漂亮且好用，输入邮箱帐户、<strong>授权码</strong>，其它端口设置默认即可。</p><h3 id="微信">微信</h3><p>（推荐wine版，Linux版残废）</p><p><code>sudo apt install com.qq.weixin.deepin</code></p><h3 id="TIM">TIM</h3><p>（wine版）</p><p>星火商店下载。</p><p><s><code>sudo apt install com.qq.tim.spark</code></s></p><h3 id="Signal">Signal</h3><p><code>sudo apt install github.whispersystems.signal-desktop</code></p><h2 id="备份工具">备份工具</h2><h3 id="坚果云">坚果云</h3><p>重要文档一边编写一边及时同步。</p><p><code>sudo apt install com.jianguoyun</code></p><h3 id="rclone">rclone</h3><p>多盘同步，以一当十。</p><p><code>sudo apt install rclone rclone-browser</code></p><p>可将网盘挂载为本地磁盘，方便使用。</p><h3 id="timeshift">timeshift</h3><p>自动备份系统，增量快照式备份，需要用心排除一些文件夹及某些类型文件，存储占用并不是很夸张，建议日常自动备份至移动硬盘，隔一段时间手动备份至云盘。</p><p><code>sudo apt install timeshift</code></p><p><code>timeshift-launcher</code> 启动</p><p>简单参考 <a href="https://bbs.deepin.org/post/203799">利用timeshift自动备份系统</a></p><h3 id="syncthing">syncthing</h3><p>支持 docker 部署，但我想尝试一下手动编译。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">This should output <span class="string">&quot;go version go1.16&quot;</span> or higher.</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go version</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Pick a place <span class="keyword">for</span> your Syncthing <span class="built_in">source</span>.</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mkdir</span> -p ~/dev</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> ~/dev</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Grab the code.</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> https://github.com/syncthing/syncthing.git</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Now we have the <span class="built_in">source</span>. Time to build!</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> syncthing</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">You should be inside ~/dev/syncthing right now.</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go run build.go</span></span><br></pre></td></tr></table></figure><p>我这里 go 版本太老，还停留在 1.11 ，准备安装最新 1.16 版 go ：</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">whereis go</span><br><span class="line">sudo rm -rf <span class="regexp">/usr/</span>bin/go <span class="comment"># 还有几个文件夹我也一并删除了，不确定是否有妨碍。</span></span><br><span class="line">cd ~/GIT <span class="comment"># 习惯把 git 相关源码和各种压缩包都放这里，统一管理。</span></span><br><span class="line">wget https:<span class="regexp">//g</span>olang.org<span class="regexp">/dl/g</span>o1.<span class="number">16.2</span>.linux-amd64.tar.gz</span><br><span class="line">tar -xzf go1.<span class="number">16.2</span>.linux-amd64.tar.gz <span class="comment"># 得到一个 go 文件夹，`./go/bin/go version` 是可以执行的</span></span><br><span class="line">cp go <span class="regexp">/usr/</span>local/go</span><br></pre></td></tr></table></figure><h2 id="下载工具">下载工具</h2><h3 id="qBittorrent">qBittorrent</h3><p>下载热门镜像超快，第一次发现自己有上传速度。</p><p><code>sudo apt install org.qbittorrent.qbittorrent</code></p><p>参考 <a href="https://zhuanlan.zhihu.com/p/89430684">解决 qBittorrent 无速度：添加自定义 Tracker</a> 适当加几条 Tracker。</p><h3 id="aria2">aria2</h3><p><em>这个东西没有人不知道吧。</em></p><p>使用 P3TERX 的 <a href="https://github.com/P3TERX/aria2.sh">Aria2 一键安装管理脚本 增强版</a> 进行安装。</p><p>配置文件在 <code>/root/.aria2c/aria2.conf</code> ，需要 root 权限，<s>很危险的样子，忍了</s>。</p><p><code>sudo nano /root/.aria2c/aria2.conf</code> 修改一些重要配置，例如：下载目录、RPC 秘钥</p><p><strong>正常使用示例：</strong></p><details ><summary>点击展开</summary><div class="fold-content"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">π ~/Downloads ❯ sudo ./aria2.sh</span><br><span class="line"></span><br><span class="line">Aria2 一键安装管理脚本 增强版 [v2.7.4] by P3TERX.COM</span><br><span class="line"></span><br><span class="line"><span class="bullet"> 0.</span> 升级脚本</span><br><span class="line">———————————————————————</span><br><span class="line"><span class="bullet"> 1.</span> 安装 Aria2</span><br><span class="line"><span class="bullet"> 2.</span> 更新 Aria2</span><br><span class="line"><span class="bullet"> 3.</span> 卸载 Aria2</span><br><span class="line">———————————————————————</span><br><span class="line"><span class="bullet"> 4.</span> 启动 Aria2</span><br><span class="line"><span class="bullet"> 5.</span> 停止 Aria2</span><br><span class="line"><span class="bullet"> 6.</span> 重启 Aria2</span><br><span class="line">———————————————————————</span><br><span class="line"><span class="bullet"> 7.</span> 修改 配置</span><br><span class="line"><span class="bullet"> 8.</span> 查看 配置</span><br><span class="line"><span class="bullet"> 9.</span> 查看 日志</span><br><span class="line"><span class="bullet">10.</span> 清空 日志</span><br><span class="line">———————————————————————</span><br><span class="line"><span class="bullet">11.</span> 手动更新 BT-Tracker</span><br><span class="line"><span class="bullet">12.</span> 自动更新 BT-Tracker</span><br><span class="line">———————————————————————</span><br><span class="line"></span><br><span class="line">Aria2 状态: 已安装 | 已启动</span><br><span class="line"></span><br><span class="line">自动更新 BT-Tracker: 已开启</span><br></pre></td></tr></table></figure></div></details><p>重启电脑，发现 aria2c 服务自动开启，无需额外操心，占用仅 1.5 M，小而强大。</p><p>配合 <a href="https://github.com/alexhua/Aria2-for-chrome/blob/master/README.cn.md">Aria2 for Chrome</a> 拓展，让 aria2 接管大文件的下载，Chrome 默认的下载不够强力。</p><p>安装好拓展之后，该给的权限都给它，有两个地方需要填写 Aria2 RPC 秘钥：</p><ol><li>鼠标左键单击浏览器右上角拓展图标，进入 AriaNg，打开 AriaNg 设置 -&gt; <span class="hint--info hint--rounded hint--top" data-hint="在 “全局” 的右边" ontouchstart>Aria2 RPC</span>，填入秘钥。</li><li>鼠标右键单击浏览器右上角拓展图标，选项 -&gt; Aria2-RPC-Server ，填入秘钥。</li></ol><blockquote><p><em>一开始遗漏了第二步，害得我迷惑半天，明明绿色弹窗显示连接成功，手动丢连接给 Aria2Ng 也能进行下载，但右键 “导出到 ARIA2 RPC” 总是显示 <code>Error Unauthorized</code>。</em></p></blockquote><p>补充：这个脚本内置的 BT-Tracker 获取脚本失效，可以手动打开 <a href="http://tk.sleele.com">tk.sleele.com</a> 复制自己需要的 tracker 列表，加进 aria2 配置文件末尾 <code>bt-tracker=</code> 。</p><h2 id="传输工具">传输工具</h2><h3 id="FileZilla">FileZilla</h3><p>局域网 FTP/sFTP 传输，方便获取手机上的文件，支持快速连接。</p><p><code>sudo apt install org.filezilla</code></p><h3 id="qrcp-二维码传输"><a href="https://github.com/claudiodangelis/qrcp">qrcp</a> 二维码传输</h3><p>局域网二维码传输，比 FileZilla 更适合一次性使用，手机与电脑之间互相收发文件，轻量极速，非常高效无脑。</p><p>Demo：<br /><img src="https://cdn.jsdelivr.net/gh/claudiodangelis/qrcp@master/docs/mobile-demo.gif" alt="demo" /></p><p><strong>安装：</strong><br />前往 <a href="https://github.com/claudiodangelis/qrcp/releases">Releases</a> 下载最新对应架构的 deb 包进行安装（或者 .tar.gz 文件，解压后赋予可执行权限，移动至 <code>/usr/local/bin</code>）</p><p><strong>使用：</strong><br />支持单文件、多文件、整个文件夹。</p><p><strong>发送示例：</strong></p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">qrcp <span class="module-access"><span class="module"><span class="identifier">MyDocument</span>.</span></span>pdf</span><br><span class="line">qrcp <span class="module-access"><span class="module"><span class="identifier">MyDocument</span>.</span></span>pdf <span class="module-access"><span class="module"><span class="identifier">IMG0001</span>.</span></span>jpg</span><br><span class="line">qrcp Documents/</span><br></pre></td></tr></table></figure><p>同一局域网下的手机扫码获取链接，用浏览器或者下载器打开即可下载。</p><p>qrcp 甚至支持通配符，举例：</p><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> ~<span class="string">/Music</span></span><br><span class="line">qrcp **/**<span class="string">.mp3</span></span><br></pre></td></tr></table></figure><p>它会将目录下所有音乐打包成 zip 再进行发送，对传输速率的提升更友好。</p><blockquote><p>如果需要保持长连接，即每次传输完成后，不自动关闭服务，可加上 <code>--keep-alive</code> 参数。<br />或者 <code>qrcp config</code> 修改默认配置。</p></blockquote><p><strong>接收示例：</strong></p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 接受至当前文件夹</span></span><br><span class="line">qrcp receive</span><br><span class="line"><span class="comment"># 接受至指定文件夹</span></span><br><span class="line">qrcp receive --output=<span class="regexp">/tmp/</span>dir</span><br></pre></td></tr></table></figure><p>同样使用手机扫码打开一个浏览器页面，然后上传文件。</p><p><em>人多的场合还有点装逼。</em></p><h3 id="QR-Code-Generator"><a href="https://www.the-qrcode-generator.com/">QR Code Generator</a></h3><p>PWA 应用，可以调用电脑摄像头扫描手机上的二维码。</p><h3 id="向日葵远控">向日葵远控</h3><p><em>投屏也是传输。</em></p><p>直接去官网下最新 Linux 版，优化得很成熟，免费版限速 300 k 画面也很流畅，要不是没声音简直可以随时看电脑上的动作电影。</p><p>支持双向传输文件，比 scp 命令方便，不用手输路径和文件名。</p><p><em>最近新出了一款 ToDesk，流畅度比起向日葵还差点火候。</em></p><h2 id="系统相关">系统相关</h2><h3 id="Oracle-VM-VirtualBox"><a href="https://www.virtualbox.org/wiki/Linux_Downloads">Oracle VM VirtualBox</a></h3><p>尝试新系统之前可在虚拟机下先进行体验。</p><p>部分 Windows 专属的应用，还是开个虚拟机用吧。</p><h3 id="Ventoy"><a href="https://www.ventoy.net/cn/index.html">Ventoy</a></h3><p>新一代多系统启动U盘解决方案。</p><blockquote><p><em>Ventoy是一个制作可启动U盘的开源工具。有了Ventoy你就无需反复地格式化U盘，你只需要把 ISO/WIM/IMG/VHD(x)/EFI 等类型的文件拷贝到U盘里面就可以启动了，无需其他操作。</em><br /><em>你可以一次性拷贝很多个不同类型的镜像文件，Ventoy 会在启动时显示一个菜单来供你进行选择。</em><br /><em>Ventoy 同时支持 x86 Legacy BIOS、IA32 UEFI、x86_64 UEFI 和 ARM64 UEFI 模式。支持大部分常见类型的操作系统 （Windows/WinPE/Linux/Unix/VMware/Xen ...）</em></p></blockquote><p>参考 <a href="https://bbs.deepin.org/post/209123">[经验分享] deepin下使用Ventoy安装Windows </a></p><h3 id="Glances">Glances</h3><blockquote><p><em>监视CPU使用率，内存使用率，交换使用率，平均系统负载，进程列表，网络接口，磁盘I / O，突袭，传感器（CPU温度），电池，文件系统使用率，Docker，监视器，警报，系统信息 ，正常运行时间等……</em></p></blockquote><p>远程查看电脑信息的时候非常好用，帅气优雅。</p><p><code>sudo apt install glances</code></p><p><em>类似的工具还有轻量一些的 gotop 和 htop 。</em></p><h3 id="防火墙">防火墙</h3><p>fail2ban 和 gufw，前者内存占用 10 M 左右，后者几百 k 。</p><p><code>sudo apt install fail2ban gufw</code></p><p>fail2ban 相关配置在 <code>/etc/fail2ban</code></p><p>检验fail2ban状态（会显示出当前活动的监狱列表）：</p><figure class="highlight fortran"><table><tr><td class="code"><pre><span class="line">$ sudo fail2ban-client <span class="keyword">status</span></span><br><span class="line"><span class="keyword">Status</span></span><br><span class="line">|- <span class="keyword">Number</span> of jail:      <span class="number">1</span></span><br><span class="line">`- Jail list:   sshd</span><br></pre></td></tr></table></figure><p>检验一个特定监狱的状态（sshd）：</p><figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line">$ sudo fail2ban-client status sshd  </span><br><span class="line">Status for the jail: sshd</span><br><span class="line">|<span class="string">- Filter</span></span><br><span class="line"><span class="string"></span>|<span class="string">  </span>|<span class="string">- Currently failed: 0</span></span><br><span class="line"><span class="string"></span>|<span class="string">  </span>|<span class="string">- Total failed:     0</span></span><br><span class="line"><span class="string"></span>|<span class="string">  `- File list:        /var/log/auth.log</span></span><br><span class="line"><span class="string">`- Actions</span></span><br><span class="line"><span class="string">   </span>|<span class="string">- Currently banned: 0</span></span><br><span class="line"><span class="string">   </span>|<span class="string">- Total banned:     0</span></span><br><span class="line"><span class="string">   `- Banned IP list:</span></span><br></pre></td></tr></table></figure><p><em>如有必要记得为自己需要的 P2P 程序添加允许规则。</em></p><p><s>突然发现 Deepin 自带一个简单好用的 deepin-defender，可以很方便地针对某一程序进行联网控制。</s></p><p><s><code>sudo apt install deepin-defender</code></s></p><p><em>啥时候火绒出个 Linux 版本？</em></p><h2 id="美化">美化</h2><h3 id="Komorebi"><a href="https://github.com/cheesecakeufo/komorebi">Komorebi</a></h3><p>动态桌面壁纸，近似于 WallpaperEngine。</p><h2 id="图像编辑">图像编辑</h2><h3 id="PhotoGIMP"><a href="https://github.com/sudo-give-me-coffee/PhotoMP/releases">PhotoGIMP</a></h3><p>GIMP 的美化版，原版太丑。</p><p>可以下载 Appimage 包，且支持自动生成启动器图标，非常良心。</p><h3 id="Photopea">Photopea</h3><p>这个界面漂亮得多，高仿 PS 。</p><p><s><code>sudo apt install com.github.photopea</code></s></p><p>本质上是个网页，有网有浏览器何必再浪费空间去安装它？</p><p>搜一下也可以找到离线版。</p><h3 id="Krita"><a href="https://krita.org/zh/download-zh/krita-desktop-zh/">Krita</a></h3><p>同样支持 Appimage 包。</p><h2 id="视频编辑">视频编辑</h2><h3 id="handbrake">handbrake</h3><p><code>sudo apt install handbrake</code></p><h3 id="avidemux">avidemux</h3><p>ffmpeg 虽好，命令行懒得记。</p><p><s><code>sudo apt install org.avidemux.avidemux</code></s></p><p>版本太老且无中文。</p><p><a href="https://www.fosshub.com/Avidemux.html">下载最新 AppImage 包</a></p><h2 id="录屏">录屏</h2><p><em>自带的录屏挺好</em></p><p>无所谓再装一个 obs</p><p><code>sudo apt install obs-studio</code></p><h2 id="游戏">游戏</h2><h3 id="Steam">Steam</h3><p>可以装 Terraria</p><p>大型游戏性能问题参考 <a href="https://bbs.deepin.org/zh/post/213469">[经验分享] 关系steam linux版游戏 使用体会和个人建议</a></p><h3 id="小游戏">小游戏</h3><ul><li>俄罗斯方块 bastet<br /><code>sudo apt install bastet</code></li></ul><h3 id="炸弹小分队-BombSquad"><a href="https://files.ballistica.net/bombsquad/builds/">炸弹小分队 BombSquad</a></h3><h2 id="其它">其它</h2><h3 id="内网穿透-frpc">内网穿透 frpc</h3><p><a href="http://natfrp.com">natfrp.com</a> 注册、认证、创建隧道……</p><p><code>uname -a</code> 查看当前架构</p><p>安装：</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cd <span class="regexp">/usr/</span>local<span class="regexp">/bin # 或者 ~/</span>.local/bin ，后面就不需要 sudo</span><br><span class="line">sudo curl -Lo frpc https:<span class="regexp">//g</span>etfrp.sh<span class="regexp">/d/</span>frpc_linux_amd64</span><br><span class="line">sudo chmod +x frpc</span><br><span class="line">frpc -v</span><br></pre></td></tr></table></figure><p>使用：略。</p><h3 id="防火墙-fail2ban">防火墙 fail2ban</h3><p><code>sudo apt install fail2ban</code></p><p>不管是不是心理安慰，装一个无妨😌</p><h3 id="天气">天气</h3><p>temps 简洁漂亮的天气应用</p><p><code>sudo apt install com.github.temps</code></p><p>舍不得存储空间那就 <code>curl wttr.in</code></p><h3 id="Nemo-文件管理器">Nemo 文件管理器</h3><p><code>sudo apt install nemo</code></p><p>深度文管响应速度还是慢了点。</p><p>将默认的 <code>Super + E</code> 改成唤出 <code>nemo</code> 命令。</p><p>再推荐一个 nnn ，在终端游走于各个目录，回车打开文件。</p><h3 id="终端翻译工具">终端翻译工具</h3><h4 id="Fanyi"><a href="https://github.com/afc163/fanyi">Fanyi</a></h4><p><em>需联网使用，使用金山和有道的 api ，配色好评。</em></p><details ><summary>点击展开</summary><div class="fold-content"><p><strong>安装：</strong></p><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">sudo apt-get <span class="keyword">install</span> ruby</span><br><span class="line">sudo gem <span class="keyword">install</span> fy</span><br></pre></td></tr></table></figure><p><strong>使用示例：</strong></p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">π ~ ❯ fy love</span><br><span class="line">love [ lʌv ]</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> n. 爱；爱情；喜好；（昵称）亲爱的；爱你的；心爱的人；钟爱之物；零分</span><br><span class="line"><span class="bullet">-</span> v. 爱恋（某人）；关爱；喜欢（某物或某事）；忠于</span><br><span class="line"><span class="bullet">-</span> n. (Love) （英、菲、瑞、美）洛夫（人名）</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> love</span><br><span class="line">   爱, 爱情, 爱心, 恋爱</span><br><span class="line"><span class="bullet">2.</span> First love</span><br><span class="line">   初恋, 初恋这件小事, 魔女的条件主题曲</span><br><span class="line"><span class="bullet">3.</span> love Letter</span><br><span class="line">   情书, 日本版, 爱的情书, 爱情信</span><br></pre></td></tr></table></figure></div></details><h4 id="sdcv"><a href="https://github.com/Dushistov/sdcv">sdcv</a></h4><blockquote><p><em>stardict console version ，即终端下的 stardict 词典</em></p></blockquote><p><mark>支持导入本地词典！</mark></p><p>值得单独开一篇文章进行推荐，见 <a href="/posts/sdcv-dictionary-look-up-on-Deepin.html">「教程」在Deepin（Linux）下如何优雅地查词典？—— sdcv</a></p><!--#### [translate-shell](https://github.com/soimort/translate-shell)> *Command-line translator using Google Translate, Bing Translator, Yandex.Translate, etc.*我这里有拼音乱码问题，告辞！--><h3 id="tai-终端查看图片">tai 终端查看图片</h3><p><em>以前找过几个都不太好用，不是安装困难就是只能在电脑本地查看，远程 ssh 看不了。</em><br /><em>这个 tai 没有上述问题。</em></p><p><strong>安装：</strong></p><p>先安装 cargo</p><p><code>sudo apt install cargo</code></p><p>然后</p><p><code>cargo install tai</code></p><p>或者</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="regexp">//gi</span>thub.com<span class="regexp">/MustafaSalih1993/</span>tai.git </span><br><span class="line">cd tai</span><br><span class="line">cargo install --path . </span><br></pre></td></tr></table></figure><p><strong>使用：</strong></p><p><code>tai test.jpg</code> 默认只有黑白。</p><p><code>tai --colored test.jpg</code> 这样就有真彩色了。</p><p>在手机上也能凑合看看 😉</p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/03/1616235222456.webp" alt="IMG_20210320_181317" /></p><p><code>tai --help</code> 查看帮助信息。</p><hr /><p><strong>相关参考</strong></p><ul><li><a href="https://bbs.deepin.org/zh/post/211034?id=211034&amp;limit=20&amp;offset=0&amp;postId=1198243">在深度系统成功安装常见的Windows应用的方法 </a></li><li><a href="https://askubuntu.com/questions/1021405/where-does-gnome-to-do-stores-its-file-by-default?newreg=f41e86a8a1334e84a0f1bd16c2af384b">Where does Gnome-To-Do stores it's file by default ?</a></li><li><a href="https://askubuntu.com/questions/1000376/changing-screenshot-directory-for-mpv-media-player-in-ubuntu-17-10">Changing Screenshot Directory for mpv Media Player in Ubuntu 17.10</a></li><li><a href="http://blog.chinaunix.net/uid-21202106-id-2406760.html">linux终端下的英文字典--SDCV</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;打造一个 Linux 舒适区。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;算是 Linux 软件推荐。&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;随缘更新，慢慢搜罗~&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="工具" scheme="https://loafing.cn/tags/%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Deepin" scheme="https://loafing.cn/tags/Deepin/"/>
    
    <category term="Linux" scheme="https://loafing.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>「修复」记一次找不到hexo命令</title>
    <link href="https://loafing.cn/posts/hexo-command-not-found.html"/>
    <id>https://loafing.cn/posts/hexo-command-not-found.html</id>
    <published>2021-02-05T04:23:31.000Z</published>
    <updated>2021-02-05T04:23:31.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>zsh: hexo: command not found<br />bash: hexo: command not found</p><span id="more"></span><p>明明之前已经安装好 hexo， 突然找不到命令。</p><p>参考这篇帖子 <a href="https://bbs.deepin.org/post/151155">deepin下hexo莫名就没有了</a>。</p><p>运行 <code>whereis hexo</code> 找不到对应路径。</p><p>重新安装试试：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">❯ npm install hexo-cli -g       </span><br><span class="line">npm WARN npm npm does not support Node.js v10.21.0</span><br><span class="line">npm WARN npm You should probably upgrade to a newer version of node as we</span><br><span class="line">npm WARN npm can&#x27;t make any promises that npm will work with this version.</span><br><span class="line">npm WARN npm Supported releases of Node.js are the latest release of 4, 6, 7, 8, 9.</span><br><span class="line">npm WARN npm You can find the latest version at https://nodejs.org/</span><br><span class="line">npm WARN checkPermissions Missing write access to /usr/local/lib/node_modules</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/hexo-cli/node_modules/chokidar/node_modules/fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;linux&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span><br><span class="line"></span><br><span class="line">npm ERR! path /usr/local/lib/node_modules</span><br><span class="line">npm ERR! code EACCES</span><br><span class="line">npm ERR! errno -13</span><br><span class="line">npm ERR! syscall access</span><br><span class="line">npm ERR! Error: EACCES: permission denied, access &#x27;/usr/local/lib/node_modules&#x27;</span><br><span class="line">npm ERR!  &#123; [Error: EACCES: permission denied, access &#x27;/usr/local/lib/node_modules&#x27;]</span><br><span class="line">npm ERR!   stack:</span><br><span class="line">npm ERR!    &#x27;Error: EACCES: permission denied, access \&#x27;/usr/local/lib/node_modules\&#x27;&#x27;,</span><br><span class="line">npm ERR!   errno: -13,</span><br><span class="line">npm ERR!   code: &#x27;EACCES&#x27;,</span><br><span class="line">npm ERR!   syscall: &#x27;access&#x27;,</span><br><span class="line">npm ERR!   path: &#x27;/usr/local/lib/node_modules&#x27; &#125;</span><br><span class="line">npm ERR! </span><br><span class="line">npm ERR! The operation was rejected by your operating system.</span><br><span class="line">npm ERR! It is likely you do not have the permissions to access this file as the current user</span><br><span class="line">npm ERR! </span><br><span class="line">npm ERR! If you believe this might be a permissions issue, please double-check the</span><br><span class="line">npm ERR! permissions of the file and its containing directories, or try running</span><br><span class="line">npm ERR! the command again as root/Administrator (though this is not recommended).</span><br></pre></td></tr></table></figure><h3 id="解决">解决</h3><p>在文件夹右键 <strong>“以管理员身份打开终端”</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">HP-735G5-Deepin<span class="comment"># npm install hexo-cli -g</span></span><br><span class="line">npm WARN npm npm does not support Node.js v10.21.0</span><br><span class="line">npm WARN npm You should probably upgrade to a newer version of node as we</span><br><span class="line">npm WARN npm can<span class="string">&#x27;t make any promises that npm will work with this version.</span></span><br><span class="line"><span class="string">npm WARN npm Supported releases of Node.js are the latest release of 4, 6, 7, 8, 9.</span></span><br><span class="line"><span class="string">npm WARN npm You can find the latest version at https://nodejs.org/</span></span><br><span class="line"><span class="string">/usr/local/bin/hexo -&gt; /usr/local/lib/node_modules/hexo-cli/bin/hexo</span></span><br><span class="line"><span class="string">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/hexo-cli/node_modules/chokidar/node_modules/fsevents):</span></span><br><span class="line"><span class="string">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;linux&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">+ hexo-cli@4.2.0</span></span><br><span class="line"><span class="string">added 65 packages from 337 contributors in 73.705s</span></span><br><span class="line"><span class="string">HP-735G5-Deepin# hexo</span></span><br><span class="line"><span class="string">zsh: command not found: hexo</span></span><br><span class="line"><span class="string">HP-735G5-Deepin# whereis hexo</span></span><br><span class="line"><span class="string">hexo: /usr/local/bin/hexo</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><p>终于找到路径了。</p><p>运行 <code>micro ~/.zshrc</code> 添加：</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">export PATH=<span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>hexo<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>重新开个窗口：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">❯ hexo -v                         </span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  DPlayer.min.css is not found in this version of dplayer, skip it.</span><br><span class="line">hexo: 5.3.0</span><br><span class="line">hexo-cli: 4.2.0</span><br><span class="line">os: Linux 5.10.5-amd64-desktop+ linux x64</span><br><span class="line">http_parser: 2.9.3</span><br><span class="line">node: 10.21.0</span><br><span class="line">v8: 6.8.275.32-node.56</span><br><span class="line">uv: 1.24.1</span><br><span class="line">zlib: 1.2.11</span><br><span class="line">brotli: 1.0.7</span><br><span class="line">ares: 1.14.0</span><br><span class="line">modules: 64</span><br><span class="line">nghttp2: 1.41.0</span><br><span class="line">napi: 6</span><br><span class="line">openssl: 1.1.1d</span><br><span class="line">icu: 63.1</span><br><span class="line">unicode: 11.0</span><br><span class="line">cldr: 34.0</span><br><span class="line">tz: 2018e</span><br></pre></td></tr></table></figure><p>完毕。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;zsh: hexo: command not found&lt;br /&gt;
bash: hexo: command not found&lt;/p&gt;</summary>
    
    
    
    
    <category term="hexo" scheme="https://loafing.cn/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>「记录」在 Deepin 下使用命令行将 U盘 格式化为 exFAT 格式</title>
    <link href="https://loafing.cn/posts/Format-the-U-disk-to-exFAT-format-in-Deepin.html"/>
    <id>https://loafing.cn/posts/Format-the-U-disk-to-exFAT-format-in-Deepin.html</id>
    <published>2021-02-03T08:09:27.000Z</published>
    <updated>2021-02-03T08:09:27.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>之前装系统的时候U盘被格式化成 ext4 系统，为方便兼容大部分操作系统上读取使用，需要重新格回去。</p><span id="more"></span><h3 id="安装-exFAT-支持">安装 exFAT 支持</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install exfat-utils exfat-fuse</span><br></pre></td></tr></table></figure><h3 id="找到设备路径">找到设备路径</h3><p><code>sudo fdisk -l</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Disk /dev/sda: 28.7 GiB, 30765219840 bytes, 60088320 sectors</span><br><span class="line">Disk model:  SanDisk 3.2Gen1</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">略...</span><br></pre></td></tr></table></figure><p>确认这块 U盘 对应的路径是 <code>/dev/sda</code></p><h3 id="进行分区">进行分区</h3><p><code>sudo gdisk /dev/sda</code></p><p><code>o</code> 命令表示创建 GPT 分区表。</p><p><code>n</code> 命令表示新建一个分区。<br />文件系统的类型要设成0700，代表 exFAT。</p><p><code>w</code> 命令表示写入所有变更。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GPT fdisk (gdisk) version 1.0.3</span><br><span class="line"></span><br><span class="line">Partition table scan:</span><br><span class="line">  MBR: not present</span><br><span class="line">  BSD: not present</span><br><span class="line">  APM: not present</span><br><span class="line">  GPT: not present</span><br><span class="line"></span><br><span class="line">Creating new GPT entries.</span><br><span class="line"></span><br><span class="line">Command (? <span class="keyword">for</span> <span class="built_in">help</span>): o</span><br><span class="line">This option deletes all partitions and creates a new protective MBR.</span><br><span class="line">Proceed? (Y/N): y</span><br><span class="line"></span><br><span class="line">Command (? <span class="keyword">for</span> <span class="built_in">help</span>): n</span><br><span class="line">Partition number (1-128, default 1): </span><br><span class="line">First sector (34-60088286, default = 2048) or &#123;+-&#125;size&#123;KMGTP&#125;: </span><br><span class="line">Last sector (2048-60088286, default = 60088286) or &#123;+-&#125;size&#123;KMGTP&#125;: </span><br><span class="line">Current <span class="built_in">type</span> is <span class="string">&#x27;Linux filesystem&#x27;</span></span><br><span class="line">Hex code or GUID (L to show codes, Enter = 8300): 0700</span><br><span class="line">Changed <span class="built_in">type</span> of partition to <span class="string">&#x27;Microsoft basic data&#x27;</span></span><br><span class="line"></span><br><span class="line">Command (? <span class="keyword">for</span> <span class="built_in">help</span>): w</span><br><span class="line"></span><br><span class="line">Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING</span><br><span class="line">PARTITIONS!!</span><br><span class="line"></span><br><span class="line">Do you want to proceed? (Y/N): y</span><br><span class="line">OK; writing new GUID partition table (GPT) to /dev/sda.</span><br><span class="line">Warning: The kernel is still using the old partition table.</span><br><span class="line">The new table will be used at the next reboot or after you</span><br><span class="line">run partprobe(8) or kpartx(8)</span><br><span class="line">The operation has completed successfully.</span><br></pre></td></tr></table></figure><h3 id="重新查看设备路径">重新查看设备路径</h3><p><code>sudo fdisk -l</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">The primary GPT table is corrupt, but the backup appears OK, so that will be used.</span><br><span class="line">Disk /dev/sda: 28.7 GiB, 30765219840 bytes, 60088320 sectors</span><br><span class="line">Disk model:  SanDisk 3.2Gen1</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disklabel <span class="built_in">type</span>: gpt</span><br><span class="line">Disk identifier: 一串序列号</span><br><span class="line"></span><br><span class="line">Device     Start      End  Sectors  Size Type</span><br><span class="line">/dev/sda1   2048 60088286 60086239 28.7G Microsoft basic data</span><br></pre></td></tr></table></figure><p>可以看到多出一个 <code>/dev/sda1</code> 分区。</p><h3 id="确认进行格式化">确认进行格式化</h3><p><code>sudo mkfs.exfat /dev/sda1</code></p><p>出现报错：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkexfatfs 1.3.0</span><br><span class="line">ERROR: failed to open <span class="string">&#x27;/dev/sda1&#x27;</span> <span class="keyword">in</span> read-write mode: No such file or directory.</span><br></pre></td></tr></table></figure><p>经查，需要先卸载。</p><p><code>sudo umount /dev/sda1</code></p><p>又报错：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">umount: /dev/sda1: no mount point specified.</span><br></pre></td></tr></table></figure><p>去掉 1 试试</p><p><code>sudo umount /dev/sda</code></p><p>行，没报错，看样子可以进行下一步了。</p><p>以防万一再做一步确认。</p><p><code>sudo fdisk -l</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">The primary GPT table is corrupt, but the backup appears OK, so that will be used.</span><br><span class="line">Disk /dev/sda: 28.7 GiB, 30765219840 bytes, 60088320 sectors</span><br><span class="line">Disk model:  SanDisk 3.2Gen1</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disklabel <span class="built_in">type</span>: gpt</span><br><span class="line">Disk identifier: 一串序列号</span><br><span class="line"></span><br><span class="line">Device     Start      End  Sectors  Size Type</span><br><span class="line">/dev/sda1   2048 60088286 60086239 28.7G Microsoft basic data</span><br></pre></td></tr></table></figure><p>确认建立 exFAT 文件系统。</p><p><code>sudo mkfs.exfat /dev/sda1</code></p><p>还是报错 <code>ERROR: failed to open '/dev/sda1' in read-write mode: No such file or directory.</code></p><p>那就去掉 1</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo mkfs.exfat /dev/sda </span><br><span class="line">mkexfatfs 1.3.0</span><br><span class="line">Creating... <span class="keyword">done</span>.</span><br><span class="line">Flushing... <span class="keyword">done</span>.</span><br><span class="line">File system created successfully.</span><br></pre></td></tr></table></figure><h3 id="参考">参考</h3><ol><li><a href="http://www.ruanyifeng.com/blog/2018/10/exfat.html">exFAT 文件系统指南 - 阮一峰的网络日志</a></li><li><a href="https://ubuntuforums.org/archive/index.php/t-2030703.html">How to force format a USB device? - Ubuntu Forums </a></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;之前装系统的时候U盘被格式化成 ext4 系统，为方便兼容大部分操作系统上读取使用，需要重新格回去。&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="Linux" scheme="https://loafing.cn/tags/Linux/"/>
    
    <category term="记录" scheme="https://loafing.cn/tags/%E8%AE%B0%E5%BD%95/"/>
    
    <category term="教程" scheme="https://loafing.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>「修复」惠普笔记本电池充到 80% 就显示已充满，无法继续充电。</title>
    <link href="https://loafing.cn/posts/HP-BIOS-Battery-Health-Manager.html"/>
    <id>https://loafing.cn/posts/HP-BIOS-Battery-Health-Manager.html</id>
    <published>2021-02-02T07:13:06.000Z</published>
    <updated>2021-02-02T07:13:06.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>不用换电池🔋，只是 BIOS 电源管理的问题。</p><span id="more"></span><p>用了两年多的本子，几个月前经常只能充到 91 %，现在上限更离谱，80 %，本来就是轻薄办公本，续航尿崩，这还了得？</p><p>找群友一问，才知道电池没坏。</p><h3 id="解决方案">解决方案</h3><p>一图流：</p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/2/1612249509074.webp" alt="1612249509074" /><br /><em>来自 <a href="https://support.hp.com/cn-zh/document/c01499579">HP 笔记本电脑 - 提升电池性能 (Windows)</a></em></p><hr /><p>改完设置重启，恢复正常👇</p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/2/1612251881000.webp" alt="IMG_20210202_154422" /></p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/2/1612251881002.webp" alt="IMG_20210202_154432" /></p><p><s>差点就准备掏钱换电池了</s>🤣</p><p>自动更改电源管理也不跟用户提个醒 😣</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;不用换电池🔋，只是 BIOS 电源管理的问题。&lt;/p&gt;</summary>
    
    
    
    <category term="收藏" scheme="https://loafing.cn/categories/%E6%94%B6%E8%97%8F/"/>
    
    
    <category term="水" scheme="https://loafing.cn/tags/%E6%B0%B4/"/>
    
  </entry>
  
  <entry>
    <title>「笔记」微波炉个人使用心得</title>
    <link href="https://loafing.cn/posts/microwave-oven-notes.html"/>
    <id>https://loafing.cn/posts/microwave-oven-notes.html</id>
    <published>2021-01-23T01:19:43.000Z</published>
    <updated>2021-01-23T01:19:43.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>俺家的第一台微波炉 😉</p><span id="more"></span><h3 id="购入">购入</h3><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1611365220937.webp" alt="1611365220937" /></p><p>美的 M1-L202B 黑色款，不到 350 RMB（京东 plus 会员到期了不想续费🌚），国产老牌信得过，家里不少电器都是他家的。</p><p><em>起初想买小米，远程联网功能听起来有点酷。但稍作权衡，感觉微波炉这种工作速度超快的电器，没必要远程控制。按钮少，简约设计好看是好看，可对老一辈人而言，徒增使用难度🤔，定时旋钮可能比按钮更容易坏……</em></p><p>从外地调的货，两天时间收到手，京东快递送货上门巴适得很，净重 12 kg 要是从驿站自提可就要了老命😣</p><p>收货前一天京东的工作人员打来电话，问我在不在家、是否有空收快递；收货后又打电话来问，能否正常使用，如果遇到问题可以向她们咨询🙋🏻‍♂️，贴心好评。</p><hr /><h3 id="简单使用">简单使用</h3><p>单手按键开门，箱脚的阻尼不太够，放在瓷板上，微波炉会被轻微推动，所以开门的时候还得用另一只手固定住它🤦🏻‍♂️</p><h4 id="测试">测试</h4><p>接半碗水，放进去，关门，打开开关，设定 30 s。</p><p>倒计时完毕，开门，雾气蒸腾，碗的上半部分还是凉的，可以直接取出，轻蘸水面，略烫手。</p><h4 id="红薯🍠">红薯🍠</h4><p>洗几个红薯，用瓷盘盛着，家里没有厨房纸这种高级货，略过不用，放进微波炉加热 5 分钟，取出翻个面，再加热 5 分钟，取出，一种浓郁程度介于蒸红薯和烤红薯之间的香味散发出来了😋</p><h4 id="噪音🔊">噪音🔊</h4><p>期间用分贝计检测一下噪音：</p><p>手机贴近微波炉测得结果大概在 60 dB，半米外约为 50 dB，在厨房遛一圈，所得结果如图👇</p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1611366936141.webp" alt="1611366936141" /></p><p>与说明书所述一致，比电磁炉声音小一点，可以接受。</p><h4 id="爆蛋😅">爆蛋😅</h4><p>微波炉不能加热带壳鸡蛋（封闭空间），这我早有耳闻。</p><p>家里正好买了两斤鹌鹑蛋，熟的，挑几个碎壳的用微波炉加热试试，设定两分钟。</p><p>大概1分50秒的时候，嘭嘭嘭……大事不妙，我这才想起自己忽略了一点，凝固的蛋白，内部也算密闭空间。</p><p><em>熟鹌鹑蛋加热时间设置为 1 分钟应该就够了，下次再试试，我就不信还炸</em></p><p>还好买的平板式而不是转盘式，擦洗方便😣</p><h4 id="香脆花生米🥜">香脆花生米🥜</h4><p>抓两把花生米，洗净，沥去多余水分，放进微波炉加热一分钟，取出看看，水差不多干了，感觉还是拌点油比较好，再加热一分半，取出摇匀，重复加热、摇匀步骤，累计 5 分 30秒，撒盐，晾凉，开吃，味道还行，比油炸花生米更省油😏下次再试试不放油的版本，或许分量不多的情况下没必要摇匀也能加热均匀。</p><p><em>带壳花生会不会爆呢？</em></p><h3 id="其它玩法">其它玩法</h3><p>TBD</p><h4 id="蘸料">蘸料</h4><p>瓷碗放辣椒粉，按喜好再随意搭配花椒、蒜末、孜然等调料，倒油，稍微没过固体成分，摇晃均匀，微波炉加热 30 s，取出加酱油（不够咸再加盐），搅拌均匀，enjoy~</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;俺家的第一台微波炉 😉&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    <category term="生活" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="测评" scheme="https://loafing.cn/tags/%E6%B5%8B%E8%AF%84/"/>
    
  </entry>
  
  <entry>
    <title>「白嫖」2021免费下载知网、cnki、sci 等机构专业文献的方法</title>
    <link href="https://loafing.cn/posts/rm-barriers-of-knowledge.html"/>
    <id>https://loafing.cn/posts/rm-barriers-of-knowledge.html</id>
    <published>2021-01-21T14:33:59.000Z</published>
    <updated>2021-01-21T14:33:59.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>不在学校没有校园网怎么查文献🧐</p><span id="more"></span><h3 id="Sciencedirect"><a href="https://www.sciencedirect.com/">Sciencedirect</a></h3><p>把某篇文献的链接复制到 Sci-Hub 的网站就能下载 PDF</p><blockquote><p><em>removing barriers on the way of knowledge</em></p></blockquote><ul><li><a href="http://sci-hub.se">sci-hub.se</a></li><li><a href="http://sci-hub.do">sci-hub.do</a></li><li><a href="http://sci-hub.st">sci-hub.st</a></li></ul><h3 id="CNKI"><a href="https://www.cnki.net">CNKI</a></h3><p>大致思路：</p><ol><li>安装官方 app：全球学术快报</li><li>修改定位至某些高校的图书馆</li><li>随意登录帐号</li><li>机构关联，使用机构账户下载，位置关联<br /><em>不同的机构能获取的文献数据库有差异</em><br /><em>  <span class="spoiler" onclick="this.classList.toggle('spoiler')">    <span class="spoiler-blur ">北京的同方知网权限应该比较高</span>  </span></em></li><li>搜索文献关键词并下载所需 caj 文件<br />本地文献存放目录 <code>/storage/emulated/0/TTKN/CnkiMobile/一串乱码/Documents/</code></li><li><strong>导出为 PDF</strong>（caj 格式太蛋疼）<br />底栏资料库，左滑文件，分享，PDF，等待转换完成……</li></ol><h3 id="万方、维普、知网……">万方、维普、知网……</h3><ol><li>关注支付宝生活号 “浙江图书馆” ，领取读者证。</li><li>前往 <a href="https://www.zjlib.cn">浙江图书馆官网</a>  登录帐号，右下角 “数据库推荐” ，进去就能直接下载对应机构的文献。</li></ol><p><em>这种方法可能碰到每日下载次数限制（检测IP）</em></p><h4 id="维普">维普</h4><p>检索出结果之后，大部分文献可以直接下载 PDF ，小部分需要点击 <strong>原文传递</strong> 按钮，输入接收邮箱及验证码进行申请，等待回复。（亲测可行）</p><hr /><p>待补充</p><p>且嫖且珍惜~</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;不在学校没有校园网怎么查文献🧐&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="学习" scheme="https://loafing.cn/tags/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="白嫖" scheme="https://loafing.cn/tags/%E7%99%BD%E5%AB%96/"/>
    
  </entry>
  
  <entry>
    <title>「修复」电脑连接WiFi无法上网</title>
    <link href="https://loafing.cn/posts/netsh-winsock.html"/>
    <id>https://loafing.cn/posts/netsh-winsock.html</id>
    <published>2021-01-21T07:04:42.000Z</published>
    <updated>2021-01-21T07:04:42.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>手机连得，电脑连不得？<br />愿天下没有断网😣</p><span id="more"></span><p>电信办套餐的时候送的垃圾路由器 OTEC star ，几台手机联网都正常，但笔记本电脑上不了网，差不多每年都有一阵子出现这类情况。</p><p>具体历程：</p><ol><li><p>连上 WiFi 后显示 <strong>“无 Internet，安全”</strong></p></li><li><p>浏览器输入 192.168.1.1 打不开</p></li><li><p>火绒-断网修复：</p><blockquote><p>DNS服务异常，DNS地址配置错误（修复此项会替换原来的配置）</p></blockquote><p>立即修复，显示修复成功但实际依旧不行🙅</p></li><li><p>更改适配器选项，双击 WLAN ，属性，双击 <strong>Internet 协议版本 4（TCP/IPv4）</strong></p><ul><li>自动获得 IP 地址</li><li>使用下面的 DNS 服务器地址<br />首选 DNS 服务器 223.5.5.5（阿里）<br />备用 DNS 服务器 114.114.114.114<br /><em>可以提前用手机 Termux <code>ping IP地址</code>，首选延迟低的，备选一个稳定的，不要盲目听别人选什么 DNS，亲自尝试才知道哪个效果好，地域、运营商不一样，不能笼统地说哪个好。</em></li></ul></li><li><p>cmd 管理员运行</p><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">netsh winsock reset</span></span><br></pre></td></tr></table></figure><p>显示</p><blockquote><p>成功地重置 Winsock 目录。<br />您必须重新启动计算机才能完成重置。</p></blockquote><p><a href="https://zhuanlan.zhihu.com/p/53552565">Netsh Winsock 解决了哪些问题？</a></p><ul><li>安装广告软件，间谍软件，VPN或防火墙后无法联网。</li><li>无法访问任何网页或只能访问某些网页。</li><li>出现与网络相关问题的弹出错误窗口。</li><li>由于注册表错误，没有网络连接。</li><li>发生DNS查找问题。</li><li>无法续订网络适配器的IP地址或其他一些DHCP错误。</li><li>没有连接消息的网络连接问题。</li></ul></li><li><p>经过上面的步骤，不知道具体是哪步解决了问题，总之能上网了🌚</p></li><li><p>额外操作：<br />更改连接属性，IP 设置由 自动(DHCP) 改为 手动，防止 IP 总是变动，方便局域网其它设备使用 FTP/SMB 方式访问电脑上的文件。<br /><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1611218058711.webp" alt="IMG_20210121_162905" /></p><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1611218058713.webp" alt="IMG_20210121_162948" /></p><p>回头再看第 4 步，又变成了：<br />自动使用下面的 IP 地址<br /><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1611218511672.webp" alt="IMG_20210121_164141" /><br />如果点确定，显示</p><blockquote><p>适配器至少需要一个 IP 地址，请输入一个 IP 地址。</p></blockquote><p>不管它，点取消，又不是不能用。</p></li><li><p>重启电脑……<br />GG，又不行了。<br />运行 Windows 网络诊断</p><blockquote><p>已找到问题<br />&quot;WLAN&quot; 未启用 DHCP</p></blockquote><p><strong>尝试以管理员身份进行这些修复</strong><br />OK，能联网了<br />网络属性变成这个样子<br /><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1611216182729.webp" alt="IMG_20210121_160251" /><br />手动 IP 设置成了个废物</p><p>没过两分钟，又 TMD 无法连接，再次诊断：</p><blockquote><p>带宽调制解调器出现连接问题<br />⚠ 重置带宽调制解调器：<br />略</p></blockquote><p>可我 TM 手机连接完全正常<br />电脑手动断开连接，重新连接，行，“已连接，安全”，耍我？</p></li><li><p>重启电脑，网络连接正常，过两分钟，WiFi 图标又变成带感叹号的地球🌍，手动断开连接，重连，正常，过两分钟，未连接到互联网……</p><p><s>等新路由器到货，把旧的砸了它😓</s></p></li><li><p>找惠普人工客服，磨叽大半个小时，换旧版无线驱动似乎解决了😓<br /><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1611229028558.webp" alt="IMG_20210121_193648" /></p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;手机连得，电脑连不得？&lt;br /&gt;
愿天下没有断网😣&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="网络问题" scheme="https://loafing.cn/tags/%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>「2021」（优质）Android 应用备忘单</title>
    <link href="https://loafing.cn/posts/awesome-apps-in-2020.html"/>
    <id>https://loafing.cn/posts/awesome-apps-in-2020.html</id>
    <published>2021-01-01T03:26:21.000Z</published>
    <updated>2021-01-01T03:26:21.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>大浪淘沙 🧐</p><span id="more"></span><blockquote><p><em>封面来自酷安跨年话题。</em></p></blockquote><h4 id="一览">一览</h4><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1609471188314.webp" alt="1609471188314" /></p><h4 id="高级货">高级货</h4><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1609471188315.webp" alt="1609471188315" /></p><h4 id="杂七杂八工具">杂七杂八工具</h4><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1609471188317.webp" alt="1609471188317" /></p><h4 id="美化相关">美化相关</h4><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1609471188318.webp" alt="1609471188318" /></p><h4 id="系统相关">系统相关</h4><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1609471188319.webp" alt="1609471188319" /></p><h4 id="影音播放">影音播放</h4><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2021/1/1609471188320.webp" alt="1609471188320" /></p><hr /><p>懒得多作介绍，建了个应用集：<a href="https://www.coolapk.com/album/23618598">「允许后台运行的良心应用（类原生补全计划）」</a></p><p><img src="https://www.helloimg.com/images/2021/01/01/b56d483d5d8d772026d58a4f6bda.gif" alt="20210101_122150" /></p><p>当前系统环境：<br />Pixel Extended，Android 11，arm64-v8a</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;大浪淘沙 🧐&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="Android" scheme="https://loafing.cn/tags/Android/"/>
    
    <category term="水" scheme="https://loafing.cn/tags/%E6%B0%B4/"/>
    
  </entry>
  
  <entry>
    <title>「Lavender」更新至安卓11（PixelExperience）</title>
    <link href="https://loafing.cn/posts/Lavender-PE-11.html"/>
    <id>https://loafing.cn/posts/Lavender-PE-11.html</id>
    <published>2020-12-04T12:19:38.000Z</published>
    <updated>2020-12-04T12:19:38.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>又是一篇踩坑记录。<br />这里就懒得放效果预览图和视频了，少数派上面有几篇还算详尽的 <a href="https://sspai.com/search/post/Android11">Android 11 相关介绍</a>。<br />总之这次大费周章的更新没有白费劲，新特性值得玩耍，PE 依然是稳定性排得上前列的优秀 ROM。</p><span id="more"></span><hr /><p>由于是跨安卓版本进行升级，需要 <a href="https://forums.oneplus.com/threads/whats-the-diffrence-between-dirty-and-clean-flash.257928/">Clean Flash</a></p><h4 id="升级步骤">升级步骤</h4><ol><li><strong>备份重要的图片、聊天记录、文档和一切难找回的数据。</strong></li><li>下载最新的 <a href="https://download.pixelexperience.org/changelog/lavender/PixelExperience_lavender-11.0-20201129-0411-BETA-OFFICIAL.zip/"><span class="hint--info hint--rounded hint--top" data-hint="PixelExperience_lavender-11.0-20201129-0411-BETA-OFFICIAL.zip" ontouchstart>ROM</span></a> 和 <a href="https://lanzoui.com/iiNRIj1vzab"><span class="hint--info hint--rounded hint--top" data-hint="lavender-global-fw.zip" ontouchstart>固件</span></a>，存放至U盘或者电脑。</li><li><strong>退出当前 Google 账号</strong>，重启进入 Recovery 模式（ 建议使用<a href="https://orangefox.download/device/lavender"> OrangeFox </a>）：<ul><li>Wipe（清除） system, data, cache, dalvic cache 分区</li><li><strong>格式化 data 分区</strong>（一朝回到解放前，慎重操作）</li><li>重启 Recovery，连接电脑将前述文件转移至手机，或 otg 线接U盘（记得先挂载 USB Storage 否则无法读取），然后进行后续操作</li><li>刷入 lavender-global-fw.zip</li><li>刷入 PixelExperience_lavender-11.0-20201129-0411-BETA-OFFICIAL.zip<br /><em>（ PE 自带谷歌全家桶，所以不需要再刷 <a href="https://opengapps.org/">GApps</a> ）</em></li><li>不需要 root 直接开机体验，需要 root 继续往下。</li></ul></li></ol><h4 id="root-权限">root 权限</h4><p>直刷 Magisk 20.4 和 21.1 都出现无法开机的情况，刷卸载包无效，不得不重刷 ROM。<br />没有 root 实在很难过日子，最终找到解决方案：<br />先刷 <a href="https://lanzoui.com/iS22wj1wqfi">MagiskCU.zip</a> 再刷 <a href="https://github.com/topjohnwu/Magisk/releases/download/v21.1/Magisk-v21.1.zip">Magisk-v21.1.zip</a> 即可正常开机并获取 root 权限。</p><p>后续 Magisk 更新版本遇到问题可以尝试先刷 Magisk CU，当然最好还是期待 Magisk 作者尽快找到 Android 11 的完美解决方案。</p><blockquote><p><strong><a href="https://github.com/topjohnwu/Magisk/releases/tag/v21.2">Magisk v21.2</a> 已修复卡开机第一屏的问题，可以直刷。</strong></p></blockquote><h4 id="蝰蛇音效驱动-ViPER4Android-FX">蝰蛇音效驱动 ViPER4Android FX</h4><p><s>旧安装方法失效</s></p><ol><li>使用 Magisk 刷入 <a href="https://lanzoui.com/iW75cj1wqkd">Selinux_Permissiver_Magisk.zip</a> ，<strong>重启生效</strong></li><li>在 Magisk 仓库下载并安装 ViPER4Android FX （我这里的版本是 2.7.2.1）</li><li>重启后打开 ViPER4Android FX 应用，仍然显示驱动未安装，给它 root 权限，确认安装，加载过程中应该会出现 “Magisk” 字样。（<em>运气不好的同学慎用这种安装驱动的方式，可能导致无法开机且不容易解决</em>）</li><li>重启手机，打开 ViPER4Android FX，点击右上角中间的图标查看驱动程序状态：<ul><li>显示 NEON 已启用：否</li><li>驱动状态：不正常</li><li>音频格式：不支持</li></ul></li><li>进设置 <strong>启用 Legacy mode 开关</strong>。回到软件主界面，查看驱动状态，一切正常 🙏</li><li>随便放首歌试试效果 d🙉b<br />相关配置文件存放目录：<code>Android/data/com.pittvandewitt.viperfx/files</code><br />分享一个旧版的配置包：<a href="https://lanzoui.com/iCIVij202mf">ViPER4Android.zip</a>，Kernel 目录下的文件还能用，HIFI.irs 的效果最好，在 <strong>脉冲反馈样本</strong> 列表中选用它，Enjoy。<br />XDA 上有大佬发布了新旧配置文件的转换工具，感兴趣的可以看看。</li><li>PS：此版本的软件界面经过简化，不再同时显示多音频设备的配置栏目，比如有线耳机相关的配置开关仅在插入耳机时展示。</li></ol><h4 id="参考">参考</h4><ul><li><a href="https://t.me/pixelexperiencelavender">TG 群</a></li><li><a href="https://wiki.pixelexperience.org/devices/lavender/install/">Install PixelExperience on lavender</a></li><li><a href="https://forum.xda-developers.com/t/how-to-install-viper4android-fx-fully-working-android-10-custom-rom-best-settings.4196523/">How to install viper4android fx (fully working) android 10 custom rom + best settings</a></li></ul><h4 id="跑路">跑路</h4><p>2020.12.16<br />某开发者的手机被偷了🤣<br /><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2020/12/1608265793839.webp" alt="1608265793839" /><br /><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2020/12/1608265806818.webp" alt="1608265806818" /></p><p>花小半天时间下载了一堆 ROM，进行测试<br /><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2020/12/1608266147697.webp" alt="92adfe9203f693317fd3f27b59320010" /><br /><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2020/12/1608266510033.webp" alt="Screenshot_20201218-004719_WPS_Office" /></p><p>最终选用 <a href="https://pixelextended.me/">Pixel Extended</a>，比 PE 流畅好用得多。<br />维护者表示下版本将支持 exfat 格式，响铃和通话音量拆分调节功能也会加上 😋</p><p>真 · 养老了 😌</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;又是一篇踩坑记录。&lt;br /&gt;
这里就懒得放效果预览图和视频了，少数派上面有几篇还算详尽的 &lt;a href=&quot;https://sspai.com/search/post/Android11&quot;&gt;Android 11 相关介绍&lt;/a&gt;。&lt;br /&gt;
总之这次大费周章的更新没有白费劲，新特性值得玩耍，PE 依然是稳定性排得上前列的优秀 ROM。&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="Android" scheme="https://loafing.cn/tags/Android/"/>
    
    <category term="刷机" scheme="https://loafing.cn/tags/%E5%88%B7%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>「KWGT」猛男必备app图标</title>
    <link href="https://loafing.cn/posts/kwgt-app-list-1.html"/>
    <id>https://loafing.cn/posts/kwgt-app-list-1.html</id>
    <published>2020-12-01T05:11:55.000Z</published>
    <updated>2020-12-01T05:11:55.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>图片素材出处：微博 <a href="https://weibo.com/5462481805/JpkfYnBVb">@鹿柯珂-</a><br />字体：【慧心】曦和体、【拾柒Lynne】正圆</p><span id="more"></span><p>暂时只做了 10 个，点击即可启动相应 app：<br /><img src="https://i.loli.net/2020/12/01/gN5p4oveXZx3UbY.png" alt="Screenshot_Nova_启动器" /><br />（不知道这画的是猪🐷还是兔子🐰）<br />有合适的素材可以继续自由发挥。<br />推荐一款取色工具：<a href="https://www.coolapk.com/apk/com.By_syk.Palette">调色板</a></p><p>下载：<a href="https://lanzoui.com/i0IAeiy5ich">https://lanzoui.com/i0IAeiy5ich</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;图片素材出处：微博 &lt;a href=&quot;https://weibo.com/5462481805/JpkfYnBVb&quot;&gt;@鹿柯珂-&lt;/a&gt;&lt;br /&gt;
字体：【慧心】曦和体、【拾柒Lynne】正圆&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="kwgt" scheme="https://loafing.cn/tags/kwgt/"/>
    
    <category term="美化" scheme="https://loafing.cn/tags/%E7%BE%8E%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>「KWGT」Round Disk 音乐部件</title>
    <link href="https://loafing.cn/posts/kwgt-round-disk-music.html"/>
    <id>https://loafing.cn/posts/kwgt-round-disk-music.html</id>
    <published>2020-11-30T09:32:03.000Z</published>
    <updated>2020-11-30T09:32:03.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>请在夜间模式下阅览本文 🌃 🌒</p><h3 id="更新">更新</h3><h4 id="2020-12-01">2020.12.01</h4><ul><li>拟物效果优化；（来人，上遮罩！）</li><li>歌词位置变更。</li></ul><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2020/12/1606803181451.webp" alt="preset_thumb_portrait (7)" /><br />下载：<a href="https://lanzoui.com/iqsABiy9x8h">https://lanzoui.com/iqsABiy9x8h</a></p><h4 id="2020-11-30">2020.11.30</h4><p><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/Cover/1606728912592.webp" alt="Round Disk Music" /><br />依旧是 4x2 的桌面部件，主体结构仿自 “织影”。</p><p><strong>特性说明：</strong></p><ul><li>点击圆碟显示/隐藏歌词；</li><li>自适应配色；</li><li>时钟字体 OPPOSans-H.ttf，换了一圈只有这个更搭；</li><li>缓存机制。无音乐播放时，碟片背景是这样的👇<br /><img src="https://i.loli.net/2020/11/30/1XKcTVAsjCzDRO7.jpg" alt="xbtce45a46428f6d6c934eb0794580e0681b" /></li></ul><p>下载：<a href="https://lanzoui.com/ixh9uix5tej">https://lanzoui.com/ixh9uix5tej</a><br />密码：若风</p><p><strong>更多截图：</strong><br /><img src="https://cdn.jsdelivr.net/gh/forliuyifei/img@mater/img/2020/11/1606730110728.webp" alt="result-2020-11-30" /></p><p>PS：原来 KWGT 不支持给给色块附上高斯模糊 😩，有些效果只能用位图实现，浪费半个小时琢磨如何仅用形状拼接成它的样子，发现行不通🙅<br />下面的素材就是从 “织影” 拆包得来的。<br /><img src="https://i.loli.net/2020/11/30/9SlpZt3HsT5NejD.png" alt="IMG66f2770f38fb3e61df5ae57f18a78fff" /><br />原版下载：</p><details ><summary>点击展开</summary><div class="fold-content"><p><img src="https://i.loli.net/2020/11/30/RWpzThvXOaSbx27.jpg" alt="mmexport1606731950696" /></p></div></details>]]></content>
    
    
    <summary type="html">&lt;p&gt;请在夜间模式下阅览本文 🌃 🌒&lt;/p&gt;
&lt;h3 id=&quot;更新&quot;&gt;更新&lt;/h3&gt;
&lt;h4 id=&quot;2020-12-01&quot;&gt;2020.12.01&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;拟物效果优化；（来人，上遮罩！）&lt;/li&gt;
&lt;li&gt;歌词位置变更。&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="原创" scheme="https://loafing.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    
    <category term="kwgt" scheme="https://loafing.cn/tags/kwgt/"/>
    
    <category term="美化" scheme="https://loafing.cn/tags/%E7%BE%8E%E5%8C%96/"/>
    
  </entry>
  
</feed>
